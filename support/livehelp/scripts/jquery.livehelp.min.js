(function(r){var j=r.Base64;var f="2.1.4";var s;if(typeof module!=="undefined"&&module.exports){s=require("buffer").Buffer;}var p="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";
var c=function(C){var B={};for(var A=0,z=C.length;A<z;A++){B[C.charAt(A)]=A;}return B;}(p);var v=String.fromCharCode;var x=function(A){if(A.length<2){var z=A.charCodeAt(0);
return z<128?A:z<2048?(v(192|(z>>>6))+v(128|(z&63))):(v(224|((z>>>12)&15))+v(128|((z>>>6)&63))+v(128|(z&63)));}else{var z=65536+(A.charCodeAt(0)-55296)*1024+(A.charCodeAt(1)-56320);
return(v(240|((z>>>18)&7))+v(128|((z>>>12)&63))+v(128|((z>>>6)&63))+v(128|(z&63)));}};var k=/[\uD800-\uDBFF][\uDC00-\uDFFFF]|[^\x00-\x7F]/g;var h=function(z){return z.replace(k,x);
};var q=function(C){var B=[0,2,1][C.length%3],z=C.charCodeAt(0)<<16|((C.length>1?C.charCodeAt(1):0)<<8)|((C.length>2?C.charCodeAt(2):0)),A=[p.charAt(z>>>18),p.charAt((z>>>12)&63),B>=2?"=":p.charAt((z>>>6)&63),B>=1?"=":p.charAt(z&63)];
return A.join("");};var l=r.btoa?function(z){return r.btoa(z);}:function(z){return z.replace(/[\s\S]{1,3}/g,q);};var o=s?function(z){return(new s(z)).toString("base64");
}:function(z){return l(h(z));};var g=function(z,A){return !A?o(z):o(z).replace(/[+\/]/g,function(B){return B=="+"?"-":"_";}).replace(/=/g,"");};var u=function(z){return g(z,true);
};var d=new RegExp(["[\xC0-\xDF][\x80-\xBF]","[\xE0-\xEF][\x80-\xBF]{2}","[\xF0-\xF7][\x80-\xBF]{3}"].join("|"),"g");var t=function(B){switch(B.length){case 4:var z=((7&B.charCodeAt(0))<<18)|((63&B.charCodeAt(1))<<12)|((63&B.charCodeAt(2))<<6)|(63&B.charCodeAt(3)),A=z-65536;
return(v((A>>>10)+55296)+v((A&1023)+56320));case 3:return v(((15&B.charCodeAt(0))<<12)|((63&B.charCodeAt(1))<<6)|(63&B.charCodeAt(2)));default:return v(((31&B.charCodeAt(0))<<6)|(63&B.charCodeAt(1)));
}};var b=function(z){return z.replace(d,t);};var a=function(D){var z=D.length,B=z%4,C=(z>0?c[D.charAt(0)]<<18:0)|(z>1?c[D.charAt(1)]<<12:0)|(z>2?c[D.charAt(2)]<<6:0)|(z>3?c[D.charAt(3)]:0),A=[v(C>>>16),v((C>>>8)&255),v(C&255)];
A.length-=[0,0,2,1][B];return A.join("");};var i=r.atob?function(z){return r.atob(z);}:function(z){return z.replace(/[\s\S]{1,4}/g,a);};var w=s?function(z){return(new s(z,"base64")).toString();
}:function(z){return b(i(z));};var m=function(z){return w(z.replace(/[-_]/g,function(A){return A=="-"?"+":"/";}).replace(/[^A-Za-z0-9\+\/]/g,""));};var y=function(){var z=r.Base64;
r.Base64=j;return z;};r.Base64={VERSION:f,atob:i,btoa:l,fromBase64:m,toBase64:g,utob:h,encode:g,encodeURI:u,btou:b,decode:m,noConflict:y};if(typeof Object.defineProperty==="function"){var n=function(z){return{value:z,enumerable:false,writable:true,configurable:true};
};r.Base64.extendString=function(){Object.defineProperty(String.prototype,"fromBase64",n(function(){return m(this);}));Object.defineProperty(String.prototype,"toBase64",n(function(z){return g(this,z);
}));Object.defineProperty(String.prototype,"toBase64URI",n(function(){return g(this,true);}));};}})(this);(function(b,a){b.buzz=a();})(this,function(){var b=window.AudioContext||window.webkitAudioContext;
var a={defaults:{autoplay:false,duration:5000,formats:[],loop:false,placeholder:"--",preload:"metadata",volume:80,webAudioApi:false,document:window.document},types:{mp3:"audio/mpeg",ogg:"audio/ogg",wav:"audio/wav",aac:"audio/aac",m4a:"audio/x-m4a"},sounds:[],el:document.createElement("audio"),getAudioContext:function(){if(this.audioCtx===undefined){try{this.audioCtx=b?new b():null;
}catch(c){this.audioCtx=null;}}return this.audioCtx;},sound:function(c,s){s=s||{};var p=s.document||a.defaults.document;var m=0,r=[],f={},d=a.isSupported();
this.load=function(){if(!d){return this;}this.sound.load();return this;};this.play=function(){if(!d){return this;}this.sound.play();return this;};this.togglePlay=function(){if(!d){return this;
}if(this.sound.paused){this.sound.play();}else{this.sound.pause();}return this;};this.pause=function(){if(!d){return this;}this.sound.pause();return this;
};this.isPaused=function(){if(!d){return null;}return this.sound.paused;};this.stop=function(){if(!d){return this;}this.setTime(0);this.sound.pause();return this;
};this.isEnded=function(){if(!d){return null;}return this.sound.ended;};this.loop=function(){if(!d){return this;}this.sound.loop="loop";this.bind("ended.buzzloop",function(){this.currentTime=0;
this.play();});return this;};this.unloop=function(){if(!d){return this;}this.sound.removeAttribute("loop");this.unbind("ended.buzzloop");return this;};
this.mute=function(){if(!d){return this;}this.sound.muted=true;return this;};this.unmute=function(){if(!d){return this;}this.sound.muted=false;return this;
};this.toggleMute=function(){if(!d){return this;}this.sound.muted=!this.sound.muted;return this;};this.isMuted=function(){if(!d){return null;}return this.sound.muted;
};this.setVolume=function(i){if(!d){return this;}if(i<0){i=0;}if(i>100){i=100;}this.volume=i;this.sound.volume=i/100;return this;};this.getVolume=function(){if(!d){return this;
}return this.volume;};this.increaseVolume=function(i){return this.setVolume(this.volume+(i||1));};this.decreaseVolume=function(i){return this.setVolume(this.volume-(i||1));
};this.setTime=function(i){if(!d){return this;}var j=true;this.whenReady(function(){if(j===true){j=false;this.sound.currentTime=i;}});return this;};this.getTime=function(){if(!d){return null;
}var i=Math.round(this.sound.currentTime*100)/100;return isNaN(i)?a.defaults.placeholder:i;};this.setPercent=function(i){if(!d){return this;}return this.setTime(a.fromPercent(i,this.sound.duration));
};this.getPercent=function(){if(!d){return null;}var i=Math.round(a.toPercent(this.sound.currentTime,this.sound.duration));return isNaN(i)?a.defaults.placeholder:i;
};this.setSpeed=function(i){if(!d){return this;}this.sound.playbackRate=i;return this;};this.getSpeed=function(){if(!d){return null;}return this.sound.playbackRate;
};this.getDuration=function(){if(!d){return null;}var i=Math.round(this.sound.duration*100)/100;return isNaN(i)?a.defaults.placeholder:i;};this.getPlayed=function(){if(!d){return null;
}return q(this.sound.played);};this.getBuffered=function(){if(!d){return null;}return q(this.sound.buffered);};this.getSeekable=function(){if(!d){return null;
}return q(this.sound.seekable);};this.getErrorCode=function(){if(d&&this.sound.error){return this.sound.error.code;}return 0;};this.getErrorMessage=function(){if(!d){return null;
}switch(this.getErrorCode()){case 1:return"MEDIA_ERR_ABORTED";case 2:return"MEDIA_ERR_NETWORK";case 3:return"MEDIA_ERR_DECODE";case 4:return"MEDIA_ERR_SRC_NOT_SUPPORTED";
default:return null;}};this.getStateCode=function(){if(!d){return null;}return this.sound.readyState;};this.getStateMessage=function(){if(!d){return null;
}switch(this.getStateCode()){case 0:return"HAVE_NOTHING";case 1:return"HAVE_METADATA";case 2:return"HAVE_CURRENT_DATA";case 3:return"HAVE_FUTURE_DATA";
case 4:return"HAVE_ENOUGH_DATA";default:return null;}};this.getNetworkStateCode=function(){if(!d){return null;}return this.sound.networkState;};this.getNetworkStateMessage=function(){if(!d){return null;
}switch(this.getNetworkStateCode()){case 0:return"NETWORK_EMPTY";case 1:return"NETWORK_IDLE";case 2:return"NETWORK_LOADING";case 3:return"NETWORK_NO_SOURCE";
default:return null;}};this.set=function(i,j){if(!d){return this;}this.sound[i]=j;return this;};this.get=function(i){if(!d){return null;}return i?this.sound[i]:this.sound;
};this.bind=function(u,w){if(!d){return this;}u=u.split(" ");var j=this,x=function(t){w.call(j,t);};for(var k=0;k<u.length;k++){var v=u[k],i=v;v=i.split(".")[0];
r.push({idx:i,func:x});this.sound.addEventListener(v,x,true);}return this;};this.unbind=function(v){if(!d){return this;}v=v.split(" ");for(var u=0;u<v.length;
u++){var j=v[u],x=j.split(".")[0];for(var k=0;k<r.length;k++){var w=r[k].idx.split(".");if(r[k].idx===j||(w[1]&&w[1]===j.replace(".",""))){this.sound.removeEventListener(x,r[k].func,true);
r.splice(k,1);}}}return this;};this.bindOnce=function(j,k){if(!d){return this;}var i=this;f[m++]=false;this.bind(j+"."+m,function(){if(!f[m]){f[m]=true;
k.call(i);}i.unbind(j+"."+m);});return this;};this.trigger=function(x,y){if(!d){return this;}x=x.split(" ");for(var w=0;w<x.length;w++){var j=x[w];for(var v=0;
v<r.length;v++){var u=r[v].idx.split(".");if(r[v].idx===j||(u[0]&&u[0]===j.replace(".",""))){var k=p.createEvent("HTMLEvents");k.initEvent(u[0],false,true);
k.originalEvent=y;this.sound.dispatchEvent(k);}}}return this;};this.fadeTo=function(w,t,v){if(!d){return this;}if(t instanceof Function){v=t;t=a.defaults.duration;
}else{t=t||a.defaults.duration;}var u=this.volume,k=t/Math.abs(u-w),j=this;this.play();function i(){setTimeout(function(){if(u<w&&j.volume<w){j.setVolume(j.volume+=1);
i();}else{if(u>w&&j.volume>w){j.setVolume(j.volume-=1);i();}else{if(v instanceof Function){v.apply(j);}}}},k);}this.whenReady(function(){i();});return this;
};this.fadeIn=function(i,j){if(!d){return this;}return this.setVolume(0).fadeTo(100,i,j);};this.fadeOut=function(i,j){if(!d){return this;}return this.fadeTo(0,i,j);
};this.fadeWith=function(j,i){if(!d){return this;}this.fadeOut(i,function(){this.stop();});j.play().fadeIn(i);return this;};this.whenReady=function(j){if(!d){return null;
}var i=this;if(this.sound.readyState===0){this.bind("canplay.buzzwhenready",function(){j.call(i);});}else{j.call(i);}};this.addSource=function(k){var i=this,j=p.createElement("source");
j.src=k;if(a.types[o(k)]){j.type=a.types[o(k)];}this.sound.appendChild(j);j.addEventListener("error",function(t){i.trigger("sourceerror",t);});return j;
};function q(j){var u=[],t=j.length-1;for(var k=0;k<=t;k++){u.push({start:j.start(k),end:j.end(k)});}return u;}function o(i){return i.split(".").pop();
}if(d&&c){for(var l in a.defaults){if(a.defaults.hasOwnProperty(l)){if(s[l]===undefined){s[l]=a.defaults[l];}}}this.sound=p.createElement("audio");if(s.webAudioApi){var n=a.getAudioContext();
if(n){this.source=n.createMediaElementSource(this.sound);this.source.connect(n.destination);}}if(c instanceof Array){for(var h in c){if(c.hasOwnProperty(h)){this.addSource(c[h]);
}}}else{if(s.formats.length){for(var g in s.formats){if(s.formats.hasOwnProperty(g)){this.addSource(c+"."+s.formats[g]);}}}else{this.addSource(c);}}if(s.loop){this.loop();
}if(s.autoplay){this.sound.autoplay="autoplay";}if(s.preload===true){this.sound.preload="auto";}else{if(s.preload===false){this.sound.preload="none";}else{this.sound.preload=s.preload;
}}this.setVolume(s.volume);a.sounds.push(this);}},group:function(c){c=f(c,arguments);this.getSounds=function(){return c;};this.add=function(h){h=f(h,arguments);
for(var g=0;g<h.length;g++){c.push(h[g]);}};this.remove=function(j){j=f(j,arguments);for(var g=0;g<j.length;g++){for(var h=0;h<c.length;h++){if(c[h]===j[g]){c.splice(h,1);
break;}}}};this.load=function(){d("load");return this;};this.play=function(){d("play");return this;};this.togglePlay=function(){d("togglePlay");return this;
};this.pause=function(g){d("pause",g);return this;};this.stop=function(){d("stop");return this;};this.mute=function(){d("mute");return this;};this.unmute=function(){d("unmute");
return this;};this.toggleMute=function(){d("toggleMute");return this;};this.setVolume=function(g){d("setVolume",g);return this;};this.increaseVolume=function(g){d("increaseVolume",g);
return this;};this.decreaseVolume=function(g){d("decreaseVolume",g);return this;};this.loop=function(){d("loop");return this;};this.unloop=function(){d("unloop");
return this;};this.setSpeed=function(g){d("setSpeed",g);return this;};this.setTime=function(g){d("setTime",g);return this;};this.set=function(g,h){d("set",g,h);
return this;};this.bind=function(g,h){d("bind",g,h);return this;};this.unbind=function(g){d("unbind",g);return this;};this.bindOnce=function(g,h){d("bindOnce",g,h);
return this;};this.trigger=function(g){d("trigger",g);return this;};this.fade=function(j,i,g,h){d("fade",j,i,g,h);return this;};this.fadeIn=function(g,h){d("fadeIn",g,h);
return this;};this.fadeOut=function(g,h){d("fadeOut",g,h);return this;};function d(){var g=f(null,arguments),j=g.shift();for(var h=0;h<c.length;h++){c[h][j].apply(c[h],g);
}}function f(h,g){return(h instanceof Array)?h:Array.prototype.slice.call(g);}},all:function(){return new a.group(a.sounds);},isSupported:function(){return !!a.el.canPlayType;
},isOGGSupported:function(){return !!a.el.canPlayType&&a.el.canPlayType('audio/ogg; codecs="vorbis"');},isWAVSupported:function(){return !!a.el.canPlayType&&a.el.canPlayType('audio/wav; codecs="1"');
},isMP3Supported:function(){return !!a.el.canPlayType&&a.el.canPlayType("audio/mpeg;");},isAACSupported:function(){return !!a.el.canPlayType&&(a.el.canPlayType("audio/x-m4a;")||a.el.canPlayType("audio/aac;"));
},toTimer:function(i,d){var g,c,f;g=Math.floor(i/3600);g=isNaN(g)?"--":(g>=10)?g:"0"+g;c=d?Math.floor(i/60%60):Math.floor(i/60);c=isNaN(c)?"--":(c>=10)?c:"0"+c;
f=Math.floor(i%60);f=isNaN(f)?"--":(f>=10)?f:"0"+f;return d?g+":"+c+":"+f:c+":"+f;},fromTimer:function(d){var c=d.toString().split(":");if(c&&c.length===3){d=(parseInt(c[0],10)*3600)+(parseInt(c[1],10)*60)+parseInt(c[2],10);
}if(c&&c.length===2){d=(parseInt(c[0],10)*60)+parseInt(c[1],10);}return d;},toPercent:function(g,f,c){var d=Math.pow(10,c||0);return Math.round(((g*100)/f)*d)/d;
},fromPercent:function(g,f,c){var d=Math.pow(10,c||0);return Math.round(((f/100)*g)*d)/d;}};return a;});
/*!
* Clamp.js 0.5.1
*
* Copyright 2011-2013, Joseph Schmitt http://joe.sh
* Released under the WTFPL license
* http://sam.zoy.org/wtfpl/
*/
(function(){function a(h,i){i=i||{};
var t=this,k=window,f={clamp:i.clamp||2,useNativeClamp:typeof(i.useNativeClamp)!="undefined"?i.useNativeClamp:true,splitOnChars:i.splitOnChars||[".","-","–","—"," "],animate:i.animate||false,truncationChar:i.truncationChar||"…",truncationHTML:i.truncationHTML},r=h.style,z=h.innerHTML,v=typeof(h.style.webkitLineClamp)!="undefined",d=f.clamp,m=d.indexOf&&(d.indexOf("px")>-1||d.indexOf("em")>-1),n;
if(f.truncationHTML){n=document.createElement("span");n.innerHTML=f.truncationHTML;}function u(A,B){if(!k.getComputedStyle){k.getComputedStyle=function(C,D){this.el=C;
this.getPropertyValue=function(F){var E=/(\-([a-z]){1})/g;if(F=="float"){F="styleFloat";}if(E.test(F)){F=F.replace(E,function(){return arguments[2].toUpperCase();
});}return C.currentStyle&&C.currentStyle[F]?C.currentStyle[F]:null;};return this;};}return k.getComputedStyle(A,null).getPropertyValue(B);}function j(A){var B=A||h.clientHeight,C=o(h);
return Math.max(Math.floor(B/C),0);}function x(A){var B=o(h);return B*A;}function o(B){var A=u(B,"line-height");if(A=="normal"){A=parseInt(u(B,"font-size"))*1.2;
}return parseInt(A);}var c=f.splitOnChars.slice(0),w=c[0],q,y;function b(A){if(A.lastChild.children&&A.lastChild.children.length>0){return b(Array.prototype.slice.call(A.children).pop());
}else{if(!A.lastChild||!A.lastChild.nodeValue||A.lastChild.nodeValue==""||A.lastChild.nodeValue==f.truncationChar){A.lastChild.parentNode.removeChild(A.lastChild);
return b(h);}else{return A.lastChild;}}}function g(D,C){if(!C){return;}function B(){c=f.splitOnChars.slice(0);w=c[0];q=null;y=null;}var A=D.nodeValue.replace(f.truncationChar,"");
if(!q){if(c.length>0){w=c.shift();}else{w="";}q=A.split(w);}if(q.length>1){y=q.pop();l(D,q.join(w));}else{q=null;}if(n){D.nodeValue=D.nodeValue.replace(f.truncationChar,"");
h.innerHTML=D.nodeValue+" "+n.innerHTML+f.truncationChar;}if(q){if(h.clientHeight<=C){if(c.length>=0&&w!=""){l(D,q.join(w)+w+y);q=null;}else{return h.innerHTML;
}}}else{if(w==""){l(D,"");D=b(h);B();}}if(f.animate){setTimeout(function(){g(D,C);},f.animate===true?10:f.animate);}else{return g(D,C);}}function l(A,B){A.nodeValue=B+f.truncationChar;
}if(d=="auto"){d=j();}else{if(m){d=j(parseInt(d));}}var p;if(v&&f.useNativeClamp){r.overflow="hidden";r.textOverflow="ellipsis";r.webkitBoxOrient="vertical";
r.display="-webkit-box";r.webkitLineClamp=d;if(m){r.height=f.clamp+"px";}}else{var s=x(d);if(s<=h.clientHeight){p=g(b(h),s);}}return{original:z,clamped:p};
}window.$clamp=a;})();(function(b){var a=0;b.fn.extend({open:function(){b(this).trigger("open.bubbletip");},close:function(){b(this).trigger("close.bubbletip");
},bubbletip:function(o,t){b(this).data("tip",b(o).get(0).id);if(b("table.bubbletip #"+b(o).get(0).id).length>0){return this;}var l,c,q,f,h,n,s,j,r,g;var i,d;
l=b(this);c=b(o);g=a++;q={id:"",position:"absolute",fixedHorizontal:"right",fixedVertical:"bottom",positionAt:"element",positionAtElement:l,offsetTop:0,offsetLeft:0,deltaPosition:30,deltaDirection:"up",animationDuration:250,animationEasing:"swing",delayShow:0,delayHide:500,calculateOnShow:false};
if(t){q=b.extend(q,t);}f={top:0,left:0,right:0,bottom:0,delta:0,mouseTop:0,mouseLeft:0,tipHeight:0};h=null;n=null;s=false;j=false;if(!l.data("bubbletip_tips")){l.data("bubbletip_tips",[[c.get(0).id,g]]);
}else{l.data("bubbletip_tips",b.merge(l.data("bubbletip_tips"),[[c.get(0).id,g]]));}if(!q.fixedVertical.match(/^top|bottom$/i)){q.positionAt="top";}if(!q.fixedHorizontal.match(/^left|right$/i)){q.positionAt="left";
}if(!q.positionAt.match(/^element|body|mouse$/i)){q.positionAt="element";}if(!q.deltaDirection.match(/^up|down|left|right$/i)){q.deltaDirection="up";}if(q.id.length>0){q.id=' id="'+q.id+'"';
}if(q.deltaDirection.match(/^up$/i)){r=b("<table"+q.id+' class="bubbletip" cellspacing="0" cellpadding="0"><tbody><tr><td class="bt-topleft"></td><td class="bt-top"></td><td class="bt-topright"></td></tr><tr><td class="bt-left"></td><td class="bt-content"></td><td class="bt-right"></td></tr><tr><td class="bt-bottomleft"></td><td><table class="bt-bottom" cellspacing="0" cellpadding="0"><tr><th></th><td><div></div></td><th></th></tr></table></td><td class="bt-bottomright"></td></tr></tbody></table>');
}else{if(q.deltaDirection.match(/^down$/i)){r=b("<table"+q.id+' class="bubbletip" cellspacing="0" cellpadding="0"><tbody><tr><td class="bt-topleft"></td><td><table class="bt-top" cellspacing="0" cellpadding="0"><tr><th></th><td><div></div></td><th></th></tr></table></td><td class="bt-topright"></td></tr><tr><td class="bt-left"></td><td class="bt-content"></td><td class="bt-right"></td></tr><tr><td class="bt-bottomleft"></td><td class="bt-bottom"></td><td class="bt-bottomright"></td></tr></tbody></table>');
}else{if(q.deltaDirection.match(/^left$/i)){r=b("<table"+q.id+' class="bubbletip" cellspacing="0" cellpadding="0"><tbody><tr><td class="bt-topleft"></td><td class="bt-top"></td><td class="bt-topright"></td></tr><tr><td class="bt-left"></td><td class="bt-content"></td><td class="bt-right-tail"><div class="bt-right"></div><div class="bt-right-tail"></div><div class="bt-right"></div></td></tr><tr><td class="bt-bottomleft"></td><td class="bt-bottom"></td><td class="bt-bottomright"></td></tr></tbody></table>');
}else{if(q.deltaDirection.match(/^right$/i)){r=b("<table"+q.id+' class="bubbletip" cellspacing="0" cellpadding="0"><tbody><tr><td class="bt-topleft"></td><td class="bt-top"></td><td class="bt-topright"></td></tr><tr><td class="bt-left-tail"><div class="bt-left"></div><div class="bt-left-tail"></div><div class="bt-left"></div></td><td class="bt-content"></td><td class="bt-right"></td></tr><tr><td class="bt-bottomleft"></td><td class="bt-bottom"></td><td class="bt-bottomright"></td></tr></tbody></table>');
}}}}r.appendTo("body");if((/msie/.test(navigator.userAgent.toLowerCase()))&&(!/opera/.test(navigator.userAgent.toLowerCase()))){b("*",r).each(function(){var u=b(this).css("background-image");
if(u.match(/^url\(["']?(.*\.png)["']?\)$/i)){u=RegExp.$1;b(this).css({backgroundImage:"none",filter:"progid:DXImageTransform.Microsoft.AlphaImageLoader(enabled=true, sizingMethod="+(b(this).css("backgroundRepeat")=="no-repeat"?"crop":"scale")+", src='"+u+"')"}).each(function(){var v=b(this).css("position");
if(v!="absolute"&&v!="relative"){b(this).css("position","relative");}});}});}b(".bt-content",r).append(c);c.show();if(q.deltaDirection.match(/^left|right$/i)){f.tipHeight=parseInt(c.height()/2,10);
if((c.height()%2)==1){f.tipHeight++;}f.tipHeight=(f.tipHeight<20)?1:f.tipHeight-20;if(q.deltaDirection.match(/^left$/i)){b("div.bt-right",r).css("height",f.tipHeight+"px");
}else{b("div.bt-left",r).css("height",f.tipHeight+"px");}}r.css("opacity",0);r.css({width:r.width(),height:r.height()});k();r.hide();b(window).bind("resize.bubbletip"+g,function(){var u=b(window).width();
var v=b(window).height();if(q.position.match(/^fixed$/i)||((u===i)&&(v===d))){return;}i=u;d=v;if(n){clearTimeout(n);}n=setTimeout(function(){k();},250);
});b([r.get(0),this.get(0)]).bind("open.bubbletip",function(){s=false;if(h){clearTimeout(h);}if(q.delayShow===0){p();}else{h=setTimeout(function(){p();
},q.delayShow);}return false;});b([r.get(0),this.get(0)]).bind("close.bubbletip",function(){if(h){clearTimeout(h);}if(q.delayHide===0){m();}else{h=setTimeout(function(){m();
},q.delayHide);}return false;});function p(){var u;if(s){return;}s=true;if(j){r.stop(true,false);}if(q.calculateOnShow){k();}if(q.position.match(/^fixed$/i)){u={};
if(q.deltaDirection.match(/^up|down$/i)){if(q.fixedVertical.match(/^top$/i)){if(!j){r.css("top",parseInt(f.top-f.delta,10)+"px");}u.top=parseInt(f.top,10)+"px";
}else{if(!j){r.css("bottom",parseInt(f.bottom+f.delta,10)+"px");}u.bottom=parseInt(f.bottom,10)+"px";}}else{if(q.fixedHorizontal.match(/^right$/i)){if(!j){if(q.fixedVertical.match(/^top$/i)){r.css({top:parseInt(f.top,10)+"px",right:parseInt(f.right-f.delta,10)+"px"});
}else{r.css({bottom:parseInt(f.bottom,10)+"px",right:parseInt(f.right-f.delta,10)+"px"});}}u.right=parseInt(f.right,10)+"px";}else{if(!j){if(q.fixedVertical.match(/^top$/i)){r.css({top:parseInt(f.top,10)+"px",left:parseInt(f.left+f.delta,10)+"px"});
}else{r.css({bottom:parseInt(f.bottom,10)+"px",left:parseInt(f.left+f.delta,10)+"px"});}}u.left=parseInt(f.left,10)+"px";}}}else{if(q.positionAt.match(/^element|body$/i)){if(q.deltaDirection.match(/^up|down$/i)){if(!j){r.css("top",parseInt(f.top-f.delta,10)+"px");
}u={top:f.top+"px"};}else{if(!j){r.css("left",parseInt(f.left-f.delta,10)+"px");}u={left:f.left+"px"};}}else{if(q.deltaDirection.match(/^up|down$/i)){if(!j){f.mouseTop=e.pageY+f.top;
r.css({top:parseInt(f.mouseTop+f.delta,10)+"px",left:parseInt(e.pageX-(r.width()/2),10)+"px"});}u={top:f.mouseTop+"px"};}else{if(!j){f.mouseLeft=e.pageX+f.left;
r.css({left:parseInt(f.mouseLeft+f.delta,10)+"px",top:parseInt(e.pageY-(r.height()/2),10)+"px"});}u={left:f.left+"px"};}}}j=false;r.show();u=b.extend(u,{opacity:1});
r.animate(u,q.animationDuration,q.animationEasing,function(){if(q.position.match(/^fixed$/i)){r.css({opacity:"",position:"fixed",top:f.top,left:f.left});
}else{r.css("opacity","");}s=true;});}function m(){var u;s=false;j=true;if(q.position.match(/^fixed$/i)){u={};if(q.deltaDirection.match(/^up|down$/i)){if(f.bottom!==""){u.bottom=parseInt(f.bottom+f.delta,10)+"px";
}if(f.top!==""){u.top=parseInt(f.top-f.delta,10)+"px";}}else{if(q.fixedHorizontal.match(/^left$/i)){if(f.right!==""){u.right=parseInt(f.right+f.delta,10)+"px";
}if(f.left!==""){u.left=parseInt(f.left+f.delta,10)+"px";}}else{if(f.right!==""){u.right=parseInt(f.right-f.delta,10)+"px";}if(f.left!==""){u.left=parseInt(f.left-f.delta,10)+"px";
}}}}else{if(q.positionAt.match(/^element|body$/i)){if(q.deltaDirection.match(/^up|down$/i)){u={top:parseInt(f.top-f.delta,10)+"px"};}else{u={left:parseInt(f.left-f.delta,10)+"px"};
}}else{if(q.deltaDirection.match(/^up|down$/i)){u={top:parseInt(f.mouseTop-f.delta,10)+"px"};}else{u={left:parseInt(f.mouseLeft-f.delta,10)+"px"};}}}u=b.extend(u,{opacity:0});
r.animate(u,q.animationDuration,q.animationEasing,function(){r.hide();j=false;});}function k(){var u;if(q.position.match(/^fixed$/i)){u=q.positionAtElement.offset();
if(q.fixedHorizontal.match(/^left$/i)){f.left=u.left+(q.positionAtElement.outerWidth()/2);}else{f.left="";}if(q.fixedHorizontal.match(/^right$/i)){f.right=(b(window).width()-u.left)-((q.positionAtElement.outerWidth()+r.outerWidth())/2);
}else{f.right="";}if(q.fixedVertical.match(/^top$/i)){f.top=u.top-b(window).scrollTop()-r.outerHeight();}else{f.top="";}if(q.fixedVertical.match(/^bottom$/i)){f.bottom=b(window).scrollTop()+b(window).height()-u.top+q.offsetTop;
}else{f.bottom="";}if(q.deltaDirection.match(/^left|right$/i)){if(q.fixedVertical.match(/^top$/i)){f.top=f.top+(r.outerHeight()/2)+(q.positionAtElement.outerHeight()/2);
}else{f.bottom=f.bottom-(r.outerHeight()/2)-(q.positionAtElement.outerHeight()/2);}}if(q.deltaDirection.match(/^left$/i)){if(q.fixedHorizontal.match(/^left$/i)){f.left=f.left-r.outerWidth();
}else{f.right=f.right+(r.outerWidth()/2);}}else{if(q.deltaDirection.match(/^right$/i)){if(q.fixedHorizontal.match(/^left$/i)){f.left=f.left;}else{f.right=f.right-(r.outerWidth()/2);
}}else{if(q.deltaDirection.match(/^down$/i)){if(q.fixedVertical.match(/^top$/i)){f.top=f.top+r.outerHeight()+q.positionAtElement.outerHeight();}else{f.bottom=f.bottom-r.outerHeight()-q.positionAtElement.outerHeight();
}if(q.fixedHorizontal.match(/^left$/i)){f.left=f.left-(r.outerWidth()/2);}}else{if(q.fixedHorizontal.match(/^left$/i)){f.left=f.left-(r.outerWidth()/2);
}}}}if(q.deltaDirection.match(/^up|right$/i)&&q.fixedHorizontal.match(/^left|right$/i)){f.delta=q.deltaPosition;}else{f.delta=-q.deltaPosition;}}else{if(q.positionAt.match(/^element$/i)){u=q.positionAtElement.offset();
if(q.deltaDirection.match(/^up$/i)){f.top=u.top+q.offsetTop-r.outerHeight();f.left=u.left+q.offsetLeft+((q.positionAtElement.outerWidth()-r.outerWidth())/2);
f.delta=q.deltaPosition;}else{if(q.deltaDirection.match(/^down$/i)){f.top=u.top+q.positionAtElement.outerHeight()+q.offsetTop;f.left=u.left+q.offsetLeft+((q.positionAtElement.outerWidth()-r.outerWidth())/2);
f.delta=-q.deltaPosition;}else{if(q.deltaDirection.match(/^left$/i)){f.top=u.top+q.offsetTop+((q.positionAtElement.outerHeight()-r.outerHeight())/2);f.left=u.left+q.offsetLeft-r.outerWidth();
f.delta=q.deltaPosition;}else{if(q.deltaDirection.match(/^right$/i)){f.top=u.top+q.offsetTop+((q.positionAtElement.outerHeight()-r.outerHeight())/2);f.left=u.left+q.positionAtElement.outerWidth()+q.offsetLeft;
f.delta=-q.deltaPosition;}}}}}else{if(q.positionAt.match(/^body$/i)){if(q.deltaDirection.match(/^up|left$/i)){f.top=q.offsetTop;f.left=q.offsetLeft;f.delta=q.deltaPosition;
}else{if(q.deltaDirection.match(/^down$/i)){f.top=parseInt(q.offsetTop+r.outerHeight(),10);f.left=q.offsetLeft;}else{f.top=q.offsetTop;f.left=parseInt(q.offsetLeft+r.outerWidth(),10);
}f.delta=-q.deltaPosition;}}else{if(q.positionAt.match(/^mouse$/i)){if(q.deltaDirection.match(/^up|left$/i)){if(q.deltaDirection.match(/^up$/i)){f.top=-(q.offsetTop+r.outerHeight());
f.left=q.offsetLeft;}else{if(q.deltaDirection.match(/^left$/i)){f.top=q.offsetTop;f.left=-(q.offsetLeft+r.outerWidth());}}f.delta=q.deltaPosition;}else{f.top=q.offsetTop;
f.left=q.offsetLeft;f.delta=-q.deltaPosition;}}}}}if(q.position.match(/^fixed$/i)){if(q.positionAt.match(/^element|body$/i)){r.css({position:"fixed",left:f.left,top:f.top,right:f.right+"px",bottom:f.bottom+"px"});
}}else{if(q.positionAt.match(/^element|body$/i)){r.css({position:"absolute",top:f.top+"px",left:f.left+"px"});}}}return this;},removeBubbletip:function(f){var j;
var l=[];var d=[];var c,h,g;var k;j=b.makeArray(b(this).data("bubbletip_tips"));c=b.makeArray(f);for(h=0;h<c.length;h++){l.push(b(c[h]).get(0).id);}for(h=0;
h<j.length;h++){g=null;if((l.length===0)||((g=b.inArray(j[h][0],l))>=0)){k=b("#"+j[h][0]).get(0).parentNode;while(k.tagName.toLowerCase()!="table"){k=k.parentNode;
}b("#"+j[h][0]).appendTo("body").hide();b(k).remove();b(this).unbind(".bubbletip"+j[h][1]);b(window).unbind(".bubbletip"+j[h][1]);}else{d.push(j[h]);}}b(this).data("bubbletip_tips",d);
return this;}});})(jQuery);
/*!
 * JavaScript Cookie v2.0.2
 * https://github.com/js-cookie/js-cookie
 *
 * Copyright 2006, 2015 Klaus Hartl
 * Released under the MIT license
 */
(function(a){if(typeof define==="function"&&define.amd){define(a);
}else{if(typeof exports==="object"){module.exports=a();}else{var c=window.Cookies;var b=window.Cookies=a(window.jQuery);b.noConflict=function(){window.Cookies=c;
return b;};}}}(function(){function b(){var g=0;var c={};for(;g<arguments.length;g++){var d=arguments[g];for(var f in d){c[f]=d[f];}}return c;}function a(d){function c(o,n,k){var r;
if(arguments.length>1){k=b({path:"/"},c.defaults,k);if(typeof k.expires==="number"){var h=new Date();h.setMilliseconds(h.getMilliseconds()+k.expires*86400000);
k.expires=h;}try{r=JSON.stringify(n);if(/^[\{\[]/.test(r)){n=r;}}catch(m){}n=encodeURIComponent(String(n));n=n.replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g,decodeURIComponent);
o=encodeURIComponent(String(o));o=o.replace(/%(23|24|26|2B|5E|60|7C)/g,decodeURIComponent);o=o.replace(/[\(\)]/g,escape);return(document.cookie=[o,"=",n,k.expires&&"; expires="+k.expires.toUTCString(),k.path&&"; path="+k.path,k.domain&&"; domain="+k.domain,k.secure?"; secure":""].join(""));
}if(!o){r={};}var q=document.cookie?document.cookie.split("; "):[];var p=/(%[0-9A-Z]{2})+/g;var l=0;for(;l<q.length;l++){var j=q[l].split("=");var f=j[0].replace(p,decodeURIComponent);
var g=j.slice(1).join("=");if(g.charAt(0)==='"'){g=g.slice(1,-1);}try{g=d&&d(g,f)||g.replace(p,decodeURIComponent);if(this.json){try{g=JSON.parse(g);}catch(m){}}if(o===f){r=g;
break;}if(!o){r[f]=g;}}catch(m){}}return r;}c.get=c.set=c;c.getJSON=function(){return c.apply({json:true},[].slice.call(arguments));};c.defaults={};c.remove=function(g,f){c(g,"",b(f,{expires:-1}));
};c.withConverter=a;return c;}return a();}));
/*!
 * fancyBox - jQuery Plugin
 * version: 2.1.5 (Fri, 14 Jun 2013)
 * @requires jQuery v1.6 or later
 *
 * Examples at http://fancyapps.com/fancybox/
 * License: www.fancyapps.com/fancybox/#license
 *
 * Copyright 2012 Janis Skarnelis - janis@fancyapps.com
 *
 */
(function(m,p,j,f){var q=j("html"),d=j(m),a=j(p),r=j.fancybox=function(){r.open.apply(this,arguments);
},l=navigator.userAgent.match(/msie/i),c=null,g=p.createTouch!==f,k=function(s){return s&&s.hasOwnProperty&&s instanceof j;},b=function(s){return s&&j.type(s)==="string";
},n=function(s){return b(s)&&s.indexOf("%")>0;},i=function(s){return(s&&!(s.style.overflow&&s.style.overflow==="hidden")&&((s.clientWidth&&s.scrollWidth>s.clientWidth)||(s.clientHeight&&s.scrollHeight>s.clientHeight)));
},o=function(u,t){var s=parseInt(u,10)||0;if(t&&n(u)){s=r.getViewport()[t]/100*s;}return Math.ceil(s);},h=function(s,t){return o(s,t)+"px";};j.extend(r,{version:"2.1.5",defaults:{padding:15,margin:20,width:800,height:600,minWidth:100,minHeight:100,maxWidth:9999,maxHeight:9999,pixelRatio:1,autoSize:true,autoHeight:false,autoWidth:false,autoResize:true,autoCenter:!g,fitToView:true,aspectRatio:false,topRatio:0.5,leftRatio:0.5,scrolling:"auto",wrapCSS:"",arrows:true,closeBtn:true,closeClick:false,nextClick:false,mouseWheel:true,autoPlay:false,playSpeed:3000,preload:3,modal:false,loop:true,ajax:{dataType:"html",headers:{"X-fancyBox":true}},iframe:{scrolling:"auto",preload:true},swf:{wmode:"transparent",allowfullscreen:"true",allowscriptaccess:"always"},keys:{next:{13:"left",34:"up",39:"left",40:"up"},prev:{8:"right",33:"down",37:"right",38:"down"},close:[27],play:[32],toggle:[70]},direction:{next:"left",prev:"right"},scrollOutside:true,index:0,type:null,href:null,content:null,title:null,tpl:{wrap:'<div class="fancybox-wrap" tabIndex="-1"><div class="fancybox-skin"><div class="fancybox-outer"><div class="fancybox-inner"></div></div></div></div>',image:'<img class="fancybox-image" src="{href}" alt="" />',iframe:'<iframe id="fancybox-frame{rnd}" name="fancybox-frame{rnd}" class="fancybox-iframe" frameborder="0" vspace="0" hspace="0" webkitAllowFullScreen mozallowfullscreen allowFullScreen'+(l?' allowtransparency="true"':"")+"></iframe>",error:'<p class="fancybox-error">The requested content cannot be loaded.<br/>Please try again later.</p>',closeBtn:'<a title="Close" class="fancybox-item fancybox-close" href="javascript:;"></a>',next:'<a title="Next" class="fancybox-nav fancybox-next" href="javascript:;"><span></span></a>',prev:'<a title="Previous" class="fancybox-nav fancybox-prev" href="javascript:;"><span></span></a>'},openEffect:"fade",openSpeed:250,openEasing:"swing",openOpacity:true,openMethod:"zoomIn",closeEffect:"fade",closeSpeed:250,closeEasing:"swing",closeOpacity:true,closeMethod:"zoomOut",nextEffect:"elastic",nextSpeed:250,nextEasing:"swing",nextMethod:"changeIn",prevEffect:"elastic",prevSpeed:250,prevEasing:"swing",prevMethod:"changeOut",helpers:{overlay:true,title:true},onCancel:j.noop,beforeLoad:j.noop,afterLoad:j.noop,beforeShow:j.noop,afterShow:j.noop,beforeChange:j.noop,beforeClose:j.noop,afterClose:j.noop},group:{},opts:{},previous:null,coming:null,current:null,isActive:false,isOpen:false,isOpened:false,wrap:null,skin:null,outer:null,inner:null,player:{timer:null,isActive:false},ajaxLoad:null,imgPreload:null,transitions:{},helpers:{},open:function(t,s){if(!t){return;
}if(!j.isPlainObject(s)){s={};}if(false===r.close(true)){return;}if(!j.isArray(t)){t=k(t)?j(t).get():[t];}j.each(t,function(y,z){var x={},u,C,A,B,w,D,v;
if(j.type(z)==="object"){if(z.nodeType){z=j(z);}if(k(z)){x={href:z.data("fancybox-href")||z.attr("href"),title:z.data("fancybox-title")||z.attr("title"),isDom:true,element:z};
if(j.metadata){j.extend(true,x,z.metadata());}}else{x=z;}}u=s.href||x.href||(b(z)?z:null);C=s.title!==f?s.title:x.title||"";A=s.content||x.content;B=A?"html":(s.type||x.type);
if(!B&&x.isDom){B=z.data("fancybox-type");if(!B){w=z.prop("class").match(/fancybox\.(\w+)/);B=w?w[1]:null;}}if(b(u)){if(!B){if(r.isImage(u)){B="image";
}else{if(r.isSWF(u)){B="swf";}else{if(u.charAt(0)==="#"){B="inline";}else{if(b(z)){B="html";A=z;}}}}}if(B==="ajax"){D=u.split(/\s+/,2);u=D.shift();v=D.shift();
}}if(!A){if(B==="inline"){if(u){A=j(b(u)?u.replace(/.*(?=#[^\s]+$)/,""):u);}else{if(x.isDom){A=z;}}}else{if(B==="html"){A=u;}else{if(!B&&!u&&x.isDom){B="inline";
A=z;}}}}j.extend(x,{href:u,type:B,content:A,title:C,selector:v});t[y]=x;});r.opts=j.extend(true,{},r.defaults,s);if(s.keys!==f){r.opts.keys=s.keys?j.extend({},r.defaults.keys,s.keys):false;
}r.group=t;return r._start(r.opts.index);},cancel:function(){var s=r.coming;if(!s||false===r.trigger("onCancel")){return;}r.hideLoading();if(r.ajaxLoad){r.ajaxLoad.abort();
}r.ajaxLoad=null;if(r.imgPreload){r.imgPreload.onload=r.imgPreload.onerror=null;}if(s.wrap){s.wrap.stop(true,true).trigger("onReset").remove();}r.coming=null;
if(!r.current){r._afterZoomOut(s);}},close:function(s){r.cancel();if(false===r.trigger("beforeClose")){return;}r.unbindEvents();if(!r.isActive){return;
}if(!r.isOpen||s===true){j(".fancybox-wrap").stop(true).trigger("onReset").remove();r._afterZoomOut();}else{r.isOpen=r.isOpened=false;r.isClosing=true;
j(".fancybox-item, .fancybox-nav").remove();r.wrap.stop(true,true).removeClass("fancybox-opened");r.transitions[r.current.closeMethod]();}},play:function(u){var s=function(){clearTimeout(r.player.timer);
},w=function(){s();if(r.current&&r.player.isActive){r.player.timer=setTimeout(r.next,r.current.playSpeed);}},t=function(){s();a.unbind(".player");r.player.isActive=false;
r.trigger("onPlayEnd");},v=function(){if(r.current&&(r.current.loop||r.current.index<r.group.length-1)){r.player.isActive=true;a.bind({"onCancel.player beforeClose.player":t,"onUpdate.player":w,"beforeLoad.player":s});
w();r.trigger("onPlayStart");}};if(u===true||(!r.player.isActive&&u!==false)){v();}else{t();}},next:function(t){var s=r.current;if(s){if(!b(t)){t=s.direction.next;
}r.jumpto(s.index+1,t,"next");}},prev:function(t){var s=r.current;if(s){if(!b(t)){t=s.direction.prev;}r.jumpto(s.index-1,t,"prev");}},jumpto:function(t,v,s){var u=r.current;
if(!u){return;}t=o(t);r.direction=v||u.direction[(t>=u.index?"next":"prev")];r.router=s||"jumpto";if(u.loop){if(t<0){t=u.group.length+(t%u.group.length);
}t=t%u.group.length;}if(u.group[t]!==f){r.cancel();r._start(t);}},reposition:function(v,s){var u=r.current,t=u?u.wrap:null,w;if(t){w=r._getPosition(s);
if(v&&v.type==="scroll"){delete w.position;t.stop(true,true).animate(w,200);}else{t.css(w);u.pos=j.extend({},u.dim,w);}}},update:function(u){var s=(u&&u.type),t=!s||s==="orientationchange";
if(t){clearTimeout(c);c=null;}if(!r.isOpen||c){return;}c=setTimeout(function(){var v=r.current;if(!v||r.isClosing){return;}r.wrap.removeClass("fancybox-tmp");
if(t||s==="load"||(s==="resize"&&v.autoResize)){r._setDimension();}if(!(s==="scroll"&&v.canShrink)){r.reposition(u);}r.trigger("onUpdate");c=null;},(t&&!g?0:300));
},toggle:function(s){if(r.isOpen){r.current.fitToView=j.type(s)==="boolean"?s:!r.current.fitToView;if(g){r.wrap.removeAttr("style").addClass("fancybox-tmp");
r.trigger("onUpdate");}r.update();}},hideLoading:function(){a.unbind(".loading");j("#fancybox-loading").remove();},showLoading:function(){var t,s;r.hideLoading();
t=j('<div id="fancybox-loading"><div></div></div>').click(r.cancel).appendTo("body");a.bind("keydown.loading",function(u){if((u.which||u.keyCode)===27){u.preventDefault();
r.cancel();}});if(!r.defaults.fixed){s=r.getViewport();t.css({position:"absolute",top:(s.h*0.5)+s.y,left:(s.w*0.5)+s.x});}},getViewport:function(){var s=(r.current&&r.current.locked)||false,t={x:d.scrollLeft(),y:d.scrollTop()};
if(s){t.w=s[0].clientWidth;t.h=s[0].clientHeight;}else{t.w=g&&m.innerWidth?m.innerWidth:d.width();t.h=g&&m.innerHeight?m.innerHeight:d.height();}return t;
},unbindEvents:function(){if(r.wrap&&k(r.wrap)){r.wrap.unbind(".fb");}a.unbind(".fb");d.unbind(".fb");},bindEvents:function(){var t=r.current,s;if(!t){return;
}d.bind("orientationchange.fb"+(g?"":" resize.fb")+(t.autoCenter&&!t.locked?" scroll.fb":""),r.update);s=t.keys;if(s){a.bind("keydown.fb",function(w){var u=w.which||w.keyCode,v=w.target||w.srcElement;
if(u===27&&r.coming){return false;}if(!w.ctrlKey&&!w.altKey&&!w.shiftKey&&!w.metaKey&&!(v&&(v.type||j(v).is("[contenteditable]")))){j.each(s,function(x,y){if(t.group.length>1&&y[u]!==f){r[x](y[u]);
w.preventDefault();return false;}if(j.inArray(u,y)>-1){r[x]();w.preventDefault();return false;}});}});}if(j.fn.mousewheel&&t.mouseWheel){r.wrap.bind("mousewheel.fb",function(z,A,v,u){var y=z.target||null,w=j(y),x=false;
while(w.length){if(x||w.is(".fancybox-skin")||w.is(".fancybox-wrap")){break;}x=i(w[0]);w=j(w).parent();}if(A!==0&&!x){if(r.group.length>1&&!t.canShrink){if(u>0||v>0){r.prev(u>0?"down":"left");
}else{if(u<0||v<0){r.next(u<0?"up":"right");}}z.preventDefault();}}});}},trigger:function(t,v){var s,u=v||r.coming||r.current;if(!u){return;}if(j.isFunction(u[t])){s=u[t].apply(u,Array.prototype.slice.call(arguments,1));
}if(s===false){return false;}if(u.helpers){j.each(u.helpers,function(x,w){if(w&&r.helpers[x]&&j.isFunction(r.helpers[x][t])){r.helpers[x][t](j.extend(true,{},r.helpers[x].defaults,w),u);
}});}a.trigger(t);},isImage:function(s){return b(s)&&s.match(/(^data:image\/.*,)|(\.(jp(e|g|eg)|gif|png|bmp|webp|svg)((\?|#).*)?$)/i);},isSWF:function(s){return b(s)&&s.match(/\.(swf)((\?|#).*)?$/i);
},_start:function(t){var u={},y,s,v,w,x;t=o(t);y=r.group[t]||null;if(!y){return false;}u=j.extend(true,{},r.opts,y);w=u.margin;x=u.padding;if(j.type(w)==="number"){u.margin=[w,w,w,w];
}if(j.type(x)==="number"){u.padding=[x,x,x,x];}if(u.modal){j.extend(true,u,{closeBtn:false,closeClick:false,nextClick:false,arrows:false,mouseWheel:false,keys:null,helpers:{overlay:{closeClick:false}}});
}if(u.autoSize){u.autoWidth=u.autoHeight=true;}if(u.width==="auto"){u.autoWidth=true;}if(u.height==="auto"){u.autoHeight=true;}u.group=r.group;u.index=t;
r.coming=u;if(false===r.trigger("beforeLoad")){r.coming=null;return;}v=u.type;s=u.href;if(!v){r.coming=null;if(r.current&&r.router&&r.router!=="jumpto"){r.current.index=t;
return r[r.router](r.direction);}return false;}r.isActive=true;if(v==="image"||v==="swf"){u.autoHeight=u.autoWidth=false;u.scrolling="visible";}if(v==="image"){u.aspectRatio=true;
}if(v==="iframe"&&g){u.scrolling="scroll";}u.wrap=j(u.tpl.wrap).addClass("fancybox-"+(g?"mobile":"desktop")+" fancybox-type-"+v+" fancybox-tmp "+u.wrapCSS).appendTo(u.parent||"body");
j.extend(u,{skin:j(".fancybox-skin",u.wrap),outer:j(".fancybox-outer",u.wrap),inner:j(".fancybox-inner",u.wrap)});j.each(["Top","Right","Bottom","Left"],function(A,z){u.skin.css("padding"+z,h(u.padding[A]));
});r.trigger("onReady");if(v==="inline"||v==="html"){if(!u.content||!u.content.length){return r._error("content");}}else{if(!s){return r._error("href");
}}if(v==="image"){r._loadImage();}else{if(v==="ajax"){r._loadAjax();}else{if(v==="iframe"){r._loadIframe();}else{r._afterLoad();}}}},_error:function(s){j.extend(r.coming,{type:"html",autoWidth:true,autoHeight:true,minWidth:0,minHeight:0,scrolling:"no",hasError:s,content:r.coming.tpl.error});
r._afterLoad();},_loadImage:function(){var s=r.imgPreload=new Image();s.onload=function(){this.onload=this.onerror=null;r.coming.width=this.width/r.opts.pixelRatio;
r.coming.height=this.height/r.opts.pixelRatio;r._afterLoad();};s.onerror=function(){this.onload=this.onerror=null;r._error("image");};s.src=r.coming.href;
if(s.complete!==true){r.showLoading();}},_loadAjax:function(){var s=r.coming;r.showLoading();r.ajaxLoad=j.ajax(j.extend({},s.ajax,{url:s.href,error:function(t,u){if(r.coming&&u!=="abort"){r._error("ajax",t);
}else{r.hideLoading();}},success:function(t,u){if(u==="success"){s.content=t;r._afterLoad();}}}));},_loadIframe:function(){var s=r.coming,t=j(s.tpl.iframe.replace(/\{rnd\}/g,new Date().getTime())).attr("scrolling",g?"auto":s.iframe.scrolling).attr("src",s.href);
j(s.wrap).bind("onReset",function(){try{j(this).find("iframe").hide().attr("src","//about:blank").end().empty();}catch(u){}});if(s.iframe.preload){r.showLoading();
t.one("load",function(){j(this).data("ready",1);if(!g){j(this).bind("load.fb",r.update);}j(this).parents(".fancybox-wrap").width("100%").removeClass("fancybox-tmp").show();
r._afterLoad();});}s.content=t.appendTo(s.inner);if(!s.iframe.preload){r._afterLoad();}},_preloadImages:function(){var x=r.group,w=r.current,s=x.length,u=w.preload?Math.min(w.preload,s-1):0,v,t;
for(t=1;t<=u;t+=1){v=x[(w.index+t)%s];if(v.type==="image"&&v.href){new Image().src=v.href;}}},_afterLoad:function(){var t=r.coming,v=r.current,A="fancybox-placeholder",x,y,z,u,s,w;
r.hideLoading();if(!t||r.isActive===false){return;}if(false===r.trigger("afterLoad",t,v)){t.wrap.stop(true).trigger("onReset").remove();r.coming=null;return;
}if(v){r.trigger("beforeChange",v);v.wrap.stop(true).removeClass("fancybox-opened").find(".fancybox-item, .fancybox-nav").remove();}r.unbindEvents();x=t;
y=t.content;z=t.type;u=t.scrolling;j.extend(r,{wrap:x.wrap,skin:x.skin,outer:x.outer,inner:x.inner,current:x,previous:v});s=x.href;switch(z){case"inline":case"ajax":case"html":if(x.selector){y=j("<div>").html(y).find(x.selector);
}else{if(k(y)){if(!y.data(A)){y.data(A,j('<div class="'+A+'"></div>').insertAfter(y).hide());}y=y.show().detach();x.wrap.bind("onReset",function(){if(j(this).find(y).length){y.hide().replaceAll(y.data(A)).data(A,false);
}});}}break;case"image":y=x.tpl.image.replace("{href}",s);break;case"swf":y='<object id="fancybox-swf" classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000" width="100%" height="100%"><param name="movie" value="'+s+'"></param>';
w="";j.each(x.swf,function(B,C){y+='<param name="'+B+'" value="'+C+'"></param>';w+=" "+B+'="'+C+'"';});y+='<embed src="'+s+'" type="application/x-shockwave-flash" width="100%" height="100%"'+w+"></embed></object>";
break;}if(!(k(y)&&y.parent().is(x.inner))){x.inner.append(y);}r.trigger("beforeShow");x.inner.css("overflow",u==="yes"?"scroll":(u==="no"?"hidden":u));
r._setDimension();r.reposition();r.isOpen=false;r.coming=null;r.bindEvents();if(!r.isOpened){j(".fancybox-wrap").not(x.wrap).stop(true).trigger("onReset").remove();
}else{if(v.prevMethod){r.transitions[v.prevMethod]();}}r.transitions[r.isOpened?x.nextMethod:x.openMethod]();r._preloadImages();},_setDimension:function(){var V=r.getViewport(),R=0,X=false,Z=false,D=r.wrap,P=r.skin,aa=r.inner,M=r.current,N=M.width,K=M.height,G=M.minWidth,z=M.minHeight,T=M.maxWidth,L=M.maxHeight,F=M.scrolling,x=M.scrollOutside?M.scrollbarWidth:0,J=M.margin,y=o(J[1]+J[3]),w=o(J[0]+J[2]),u,t,Q,S,I,H,O,B,A,W,v,Y,s,C,E;
D.add(P).add(aa).width("auto").height("auto").removeClass("fancybox-tmp");u=o(P.outerWidth(true)-P.width());t=o(P.outerHeight(true)-P.height());Q=y+u;S=w+t;
I=n(N)?(V.w-Q)*o(N)/100:N;H=n(K)?(V.h-S)*o(K)/100:K;if(M.type==="iframe"){C=M.content;if(M.autoHeight&&C.data("ready")===1){try{if(C[0].contentWindow.document.location){aa.width(I).height(9999);
E=C.contents().find("body");if(x){E.css("overflow-x","hidden");}H=E.outerHeight(true);}}catch(U){}}}else{if(M.autoWidth||M.autoHeight){aa.addClass("fancybox-tmp");
if(!M.autoWidth){aa.width(I);}if(!M.autoHeight){aa.height(H);}if(M.autoWidth){I=aa.width();}if(M.autoHeight){H=aa.height();}aa.removeClass("fancybox-tmp");
}}N=o(I);K=o(H);A=I/H;G=o(n(G)?o(G,"w")-Q:G);T=o(n(T)?o(T,"w")-Q:T);z=o(n(z)?o(z,"h")-S:z);L=o(n(L)?o(L,"h")-S:L);O=T;B=L;if(M.fitToView){T=Math.min(V.w-Q,T);
L=Math.min(V.h-S,L);}Y=V.w-y;s=V.h-w;if(M.aspectRatio){if(N>T){N=T;K=o(N/A);}if(K>L){K=L;N=o(K*A);}if(N<G){N=G;K=o(N/A);}if(K<z){K=z;N=o(K*A);}}else{N=Math.max(G,Math.min(N,T));
if(M.autoHeight&&M.type!=="iframe"){aa.width(N);K=aa.height();}K=Math.max(z,Math.min(K,L));}if(M.fitToView){aa.width(N).height(K);D.width(N+u);W=D.width();
v=D.height();if(M.aspectRatio){while((W>Y||v>s)&&N>G&&K>z){if(R++>19){break;}K=Math.max(z,Math.min(L,K-10));N=o(K*A);if(N<G){N=G;K=o(N/A);}if(N>T){N=T;
K=o(N/A);}aa.width(N).height(K);D.width(N+u);W=D.width();v=D.height();}}else{N=Math.max(G,Math.min(N,N-(W-Y)));K=Math.max(z,Math.min(K,K-(v-s)));}}if(x&&F==="auto"&&K<H&&(N+u+x)<Y){N+=x;
}aa.width(N).height(K);D.width(N+u);W=D.width();v=D.height();X=(W>Y||v>s)&&N>G&&K>z;Z=M.aspectRatio?(N<O&&K<B&&N<I&&K<H):((N<O||K<B)&&(N<I||K<H));j.extend(M,{dim:{width:h(W),height:h(v)},origWidth:I,origHeight:H,canShrink:X,canExpand:Z,wPadding:u,hPadding:t,wrapSpace:v-P.outerHeight(true),skinSpace:P.height()-K});
if(!C&&M.autoHeight&&K>z&&K<L&&!Z){aa.height("auto");}},_getPosition:function(u){var y=r.current,t=r.getViewport(),w=y.margin,v=r.wrap.width()+w[1]+w[3],s=r.wrap.height()+w[0]+w[2],x={position:"absolute",top:w[0],left:w[3]};
if(y.autoCenter&&y.fixed&&!u&&s<=t.h&&v<=t.w){x.position="fixed";}else{if(!y.locked){x.top+=t.y;x.left+=t.x;}}x.top=h(Math.max(x.top,x.top+((t.h-s)*y.topRatio)));
x.left=h(Math.max(x.left,x.left+((t.w-v)*y.leftRatio)));return x;},_afterZoomIn:function(){var s=r.current;if(!s){return;}r.isOpen=r.isOpened=true;r.wrap.css("overflow","visible").addClass("fancybox-opened");
r.update();if(s.closeClick||(s.nextClick&&r.group.length>1)){r.inner.css("cursor","pointer").bind("click.fb",function(t){if(!j(t.target).is("a")&&!j(t.target).parent().is("a")){t.preventDefault();
r[s.closeClick?"close":"next"]();}});}if(s.closeBtn){j(s.tpl.closeBtn).appendTo(r.skin).bind("click.fb",function(t){t.preventDefault();r.close();});}if(s.arrows&&r.group.length>1){if(s.loop||s.index>0){j(s.tpl.prev).appendTo(r.outer).bind("click.fb",r.prev);
}if(s.loop||s.index<r.group.length-1){j(s.tpl.next).appendTo(r.outer).bind("click.fb",r.next);}}r.trigger("afterShow");if(!s.loop&&s.index===s.group.length-1){r.play(false);
}else{if(r.opts.autoPlay&&!r.player.isActive){r.opts.autoPlay=false;r.play();}}},_afterZoomOut:function(s){s=s||r.current;j(".fancybox-wrap").trigger("onReset").remove();
j.extend(r,{group:{},opts:{},router:false,current:null,isActive:false,isOpened:false,isOpen:false,isClosing:false,wrap:null,skin:null,outer:null,inner:null});
r.trigger("afterClose",s);}});r.transitions={getOrigPosition:function(){var v=r.current,t=v.element,y=v.orig,x={},s=50,z=50,w=v.hPadding,A=v.wPadding,u=r.getViewport();
if(!y&&v.isDom&&t.is(":visible")){y=t.find("img:first");if(!y.length){y=t;}}if(k(y)){x=y.offset();if(y.is("img")){s=y.outerWidth();z=y.outerHeight();}}else{x.top=u.y+(u.h-z)*v.topRatio;
x.left=u.x+(u.w-s)*v.leftRatio;}if(r.wrap.css("position")==="fixed"||v.locked){x.top-=u.y;x.left-=u.x;}x={top:h(x.top-w*v.topRatio),left:h(x.left-A*v.leftRatio),width:h(s+A),height:h(z+w)};
return x;},step:function(t,u){var w,y,z,s=u.prop,v=r.current,x=v.wrapSpace,A=v.skinSpace;if(s==="width"||s==="height"){w=u.end===u.start?1:(t-u.start)/(u.end-u.start);
if(r.isClosing){w=1-w;}y=s==="width"?v.wPadding:v.hPadding;z=t-y;r.skin[s](o(s==="width"?z:z-(x*w)));r.inner[s](o(s==="width"?z:z-(x*w)-(A*w)));}},zoomIn:function(){var w=r.current,t=w.pos,u=w.openEffect,v=u==="elastic",s=j.extend({opacity:1},t);
delete s.position;if(v){t=this.getOrigPosition();if(w.openOpacity){t.opacity=0.1;}}else{if(u==="fade"){t.opacity=0.1;}}r.wrap.css(t).animate(s,{duration:u==="none"?0:w.openSpeed,easing:w.openEasing,step:v?this.step:null,complete:r._afterZoomIn});
},zoomOut:function(){var v=r.current,t=v.closeEffect,u=t==="elastic",s={opacity:0.1};if(u){s=this.getOrigPosition();if(v.closeOpacity){s.opacity=0.1;}}r.wrap.animate(s,{duration:t==="none"?0:v.closeSpeed,easing:v.closeEasing,step:u?this.step:null,complete:r._afterZoomOut});
},changeIn:function(){var x=r.current,u=x.nextEffect,t=x.pos,s={opacity:1},w=r.direction,y=200,v;t.opacity=0.1;if(u==="elastic"){v=w==="down"||w==="up"?"top":"left";
if(w==="down"||w==="right"){t[v]=h(o(t[v])-y);s[v]="+="+y+"px";}else{t[v]=h(o(t[v])+y);s[v]="-="+y+"px";}}if(u==="none"){r._afterZoomIn();}else{r.wrap.css(t).animate(s,{duration:x.nextSpeed,easing:x.nextEasing,complete:r._afterZoomIn});
}},changeOut:function(){var u=r.previous,t=u.prevEffect,s={opacity:0.1},v=r.direction,w=200;if(t==="elastic"){s[v==="down"||v==="up"?"top":"left"]=(v==="up"||v==="left"?"-":"+")+"="+w+"px";
}u.wrap.animate(s,{duration:t==="none"?0:u.prevSpeed,easing:u.prevEasing,complete:function(){j(this).trigger("onReset").remove();}});}};r.helpers.overlay={defaults:{closeClick:true,speedOut:200,showEarly:true,css:{},locked:!g,fixed:true},overlay:null,fixed:false,el:j("html"),create:function(s){s=j.extend({},this.defaults,s);
if(this.overlay){this.close();}this.overlay=j('<div class="fancybox-overlay"></div>').appendTo(r.coming?r.coming.parent:s.parent);this.fixed=false;if(s.fixed&&r.defaults.fixed){this.overlay.addClass("fancybox-overlay-fixed");
this.fixed=true;}},open:function(t){var s=this;t=j.extend({},this.defaults,t);if(this.overlay){this.overlay.unbind(".overlay").width("auto").height("auto");
}else{this.create(t);}if(!this.fixed){d.bind("resize.overlay",j.proxy(this.update,this));this.update();}if(t.closeClick){this.overlay.bind("click.overlay",function(u){if(j(u.target).hasClass("fancybox-overlay")){if(r.isActive){r.close();
}else{s.close();}return false;}});}this.overlay.css(t.css).show();},close:function(){var s,t;d.unbind("resize.overlay");if(this.el.hasClass("fancybox-lock")){j(".fancybox-margin").removeClass("fancybox-margin");
s=d.scrollTop();t=d.scrollLeft();this.el.removeClass("fancybox-lock");d.scrollTop(s).scrollLeft(t);}j(".fancybox-overlay").remove().hide();j.extend(this,{overlay:null,fixed:false});
},update:function(){var t="100%",s;this.overlay.width(t).height("100%");if(l){s=Math.max(p.documentElement.offsetWidth,p.body.offsetWidth);if(a.width()>s){t=a.width();
}}else{if(a.width()>d.width()){t=a.width();}}this.overlay.width(t).height(a.height());},onReady:function(t,u){var s=this.overlay;j(".fancybox-overlay").stop(true,true);
if(!s){this.create(t);}if(t.locked&&this.fixed&&u.fixed){if(!s){this.margin=a.height()>d.height()?j("html").css("margin-right").replace("px",""):false;
}u.locked=this.overlay.append(u.wrap);u.fixed=false;}if(t.showEarly===true){this.beforeShow.apply(this,arguments);}},beforeShow:function(u,v){var s,t;if(v.locked){if(this.margin!==false){j("*").filter(function(){return(j(this).css("position")==="fixed"&&!j(this).hasClass("fancybox-overlay")&&!j(this).hasClass("fancybox-wrap"));
}).addClass("fancybox-margin");this.el.addClass("fancybox-margin");}s=d.scrollTop();t=d.scrollLeft();this.el.addClass("fancybox-lock");d.scrollTop(s).scrollLeft(t);
}this.open(u);},onUpdate:function(){if(!this.fixed){this.update();}},afterClose:function(s){if(this.overlay&&!r.coming){this.overlay.fadeOut(s.speedOut,j.proxy(this.close,this));
}}};r.helpers.title={defaults:{type:"float",position:"bottom"},beforeShow:function(t){var v=r.current,x=v.title,s=t.type,w,u;if(j.isFunction(x)){x=x.call(v.element,v);
}if(!b(x)||j.trim(x)===""){return;}w=j('<div class="fancybox-title fancybox-title-'+s+'-wrap">'+x+"</div>");switch(s){case"inside":u=r.skin;break;case"outside":u=r.wrap;
break;case"over":u=r.inner;break;default:u=r.skin;w.appendTo("body");if(l){w.width(w.width());}w.wrapInner('<span class="child"></span>');r.current.margin[2]+=Math.abs(o(w.css("margin-bottom")));
break;}w[(t.position==="top"?"prependTo":"appendTo")](u);}};j.fn.fancybox=function(u){var t,v=j(this),s=this.selector||"",w=function(A){var z=j(this).blur(),x=t,y,B;
if(!(A.ctrlKey||A.altKey||A.shiftKey||A.metaKey)&&!z.is(".fancybox-wrap")){y=u.groupAttr||"data-fancybox-group";B=z.attr(y);if(!B){y="rel";B=z.get(0)[y];
}if(B&&B!==""&&B!=="nofollow"){z=s.length?j(s):v;z=z.filter("["+y+'="'+B+'"]');x=z.index(this);}u.index=x;if(r.open(z,u)!==false){A.preventDefault();}}};
u=u||{};t=u.index||0;if(!s||u.live===false){v.unbind("click.fb-start").bind("click.fb-start",w);}else{a.undelegate(s,"click.fb-start").delegate(s+":not('.fancybox-item, .fancybox-nav')","click.fb-start",w);
}this.filter("[data-fancybox-start=1]").trigger("click");return this;};a.ready(function(){var t,s;if(j.scrollbarWidth===f){j.scrollbarWidth=function(){var v=j('<div style="width:50px;height:50px;overflow:auto"><div/></div>').appendTo("body"),w=v.children(),u=w.innerWidth()-w.height(99).innerWidth();
v.remove();return u;};}if(j.support.fixedPosition===f){j.support.fixedPosition=(function(){var v=j('<div style="position:fixed;top:20px;"></div>').appendTo("body"),u=(v[0].offsetTop===20||v[0].offsetTop===15);
v.remove();return u;}());}j.extend(r.defaults,{scrollbarWidth:j.scrollbarWidth(),fixed:j.support.fixedPosition,parent:j("body")});t=j(m).width();q.addClass("fancybox-lock-test");
s=j(m).width();q.removeClass("fancybox-lock-test");j("<style type='text/css'>.fancybox-margin{margin-right:"+(s-t)+"px;}</style>").appendTo("head");});
}(window,document,jQuery));(function($){var escape=/["\\\x00-\x1f\x7f-\x9f]/g,meta={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},hasOwn=Object.prototype.hasOwnProperty;
$.toJSON=typeof JSON==="object"&&JSON.stringify?JSON.stringify:function(o){if(o===null){return"null";}var pairs,k,name,val,type=$.type(o);if(type==="undefined"){return undefined;
}if(type==="number"||type==="boolean"){return String(o);}if(type==="string"){return $.quoteString(o);}if(typeof o.toJSON==="function"){return $.toJSON(o.toJSON());
}if(type==="date"){var month=o.getUTCMonth()+1,day=o.getUTCDate(),year=o.getUTCFullYear(),hours=o.getUTCHours(),minutes=o.getUTCMinutes(),seconds=o.getUTCSeconds(),milli=o.getUTCMilliseconds();
if(month<10){month="0"+month;}if(day<10){day="0"+day;}if(hours<10){hours="0"+hours;}if(minutes<10){minutes="0"+minutes;}if(seconds<10){seconds="0"+seconds;
}if(milli<100){milli="0"+milli;}if(milli<10){milli="0"+milli;}return'"'+year+"-"+month+"-"+day+"T"+hours+":"+minutes+":"+seconds+"."+milli+'Z"';}pairs=[];
if($.isArray(o)){for(k=0;k<o.length;k++){pairs.push($.toJSON(o[k])||"null");}return"["+pairs.join(",")+"]";}if(typeof o==="object"){for(k in o){if(hasOwn.call(o,k)){type=typeof k;
if(type==="number"){name='"'+k+'"';}else{if(type==="string"){name=$.quoteString(k);}else{continue;}}type=typeof o[k];if(type!=="function"&&type!=="undefined"){val=$.toJSON(o[k]);
pairs.push(name+":"+val);}}}return"{"+pairs.join(",")+"}";}};$.evalJSON=typeof JSON==="object"&&JSON.parse?JSON.parse:function(str){return eval("("+str+")");
};$.secureEvalJSON=typeof JSON==="object"&&JSON.parse?JSON.parse:function(str){var filtered=str.replace(/\\["\\\/bfnrtu]/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,"");
if(/^[\],:{}\s]*$/.test(filtered)){return eval("("+str+")");}throw new SyntaxError("Error parsing JSON, source is not valid.");};$.quoteString=function(str){if(str.match(escape)){return'"'+str.replace(escape,function(a){var c=meta[a];
if(typeof c==="string"){return c;}c=a.charCodeAt();return"\\u00"+Math.floor(c/16).toString(16)+(c%16).toString(16);})+'"';}return'"'+str+'"';};}(jQuery));
(function(g){function d(){}function w(G){c=[G];}function p(I,G,H){return I&&I.apply(G.context||G,H);}function o(G){return/\?/.test(G)?"&":"?";}var q="async",u="charset",s="",E="error",v="insertBefore",t="_jqjsp",B="on",h=B+"click",l=B+E,r=B+"load",z=B+"readystatechange",b="readyState",D="removeChild",k="<script>",A="success",C="timeout",f=window,a=g.Deferred,i=g("head")[0]||document.documentElement,y={},n=0,c,m={callback:t,url:location.href},x=f.opera,j=!!g("<div>").html("<!--[if IE]><i><![endif]-->").find("i").length;
function F(L){L=g.extend({},m,L);var J=L.success,Q=L.error,I=L.complete,Z=L.dataFilter,ab=L.callbackParameter,R=L.callback,aa=L.cache,H=L.pageCache,K=L.charset,M=L.url,ad=L.data,T=L.timeout,P,X=0,V=d,S,O,G,ac,N,W;
a&&a(function(ae){ae.done(J).fail(Q);J=ae.resolve;Q=ae.reject;}).promise(L);L.abort=function(){!(X++)&&V();};if(p(L.beforeSend,L,[L])===!1||X){return L;
}M=M||s;ad=ad?((typeof ad)=="string"?ad:g.param(ad,L.traditional)):s;M+=ad?(o(M)+ad):s;ab&&(M+=o(M)+encodeURIComponent(ab)+"=?");!aa&&!H&&(M+=o(M)+"_"+(new Date()).getTime()+"=");
M=M.replace(/=\?(&|$)/,"="+R+"$1");function Y(ae){if(!(X++)){V();H&&(y[M]={s:[ae]});Z&&(ae=Z.apply(L,[ae]));p(J,L,[ae,A,L]);p(I,L,[L,A]);}}function U(ae){if(!(X++)){V();
H&&ae!=C&&(y[M]=ae);p(Q,L,[L,ae]);p(I,L,[L,ae]);}}if(H&&(P=y[M])){P.s?Y(P.s[0]):U(P);}else{f[R]=w;ac=g(k)[0];ac.id=t+n++;if(K){ac[u]=K;}x&&x.version()<11.6?((N=g(k)[0]).text="document.getElementById('"+ac.id+"')."+l+"()"):(ac[q]=q);
if(j){ac.htmlFor=ac.id;ac.event=h;}ac[r]=ac[l]=ac[z]=function(ae){if(!ac[b]||!/i/.test(ac[b])){try{ac[h]&&ac[h]();}catch(af){}ae=c;c=0;ae?Y(ae[0]):U(E);
}};ac.src=M;V=function(ae){W&&clearTimeout(W);ac[z]=ac[r]=ac[l]=null;i[D](ac);N&&i[D](N);};i[v](ac,(G=i.firstChild));N&&i[v](N,G);W=T>0&&setTimeout(function(){U(C);
},T);}return L;}F.setup=function(G){g.extend(m,G);};g.jsonp=F;})(jQuery);(function(k){var u="0.4.8",g={parse:window.JSON&&(window.JSON.parse||window.JSON.decode)||String.prototype.evalJSON&&function(G){return String(G).evalJSON();
}||k.parseJSON||k.evalJSON,stringify:Object.toJSON||window.JSON&&(window.JSON.stringify||window.JSON.encode)||k.toJSON};if(!("parse" in g)||!("stringify" in g)){throw new Error("JSON Library Required");
}var n={__jstorage_meta:{CRC32:{}}},c={jStorage:"{}"},z=null,p=0,j=false,l={},D=false,A=0,t={},y=+new Date(),B,C={isXML:function(H){var G=(H?H.ownerDocument||H:0).documentElement;
return G?G.nodeName!=="HTML":false;},encode:function(H){if(!this.isXML(H)){return false;}try{return new XMLSerializer().serializeToString(H);}catch(G){try{return H.xml;
}catch(I){}}return false;},decode:function(H){var G=("DOMParser" in window&&(new DOMParser()).parseFromString)||(window.ActiveXObject&&function(J){var K=new ActiveXObject("Microsoft.XMLDOM");
K.async="false";K.loadXML(J);return K;}),I;if(!G){return false;}I=G.call("DOMParser" in window&&(new DOMParser())||window,H,"text/xml");return this.isXML(I)?I:false;
}};function r(){var G=false;if("localStorage" in window){try{window.localStorage.setItem("_tmptest","tmpval");G=true;window.localStorage.removeItem("_tmptest");
}catch(H){}}if(G){try{if(window.localStorage){c=window.localStorage;j="localStorage";A=c.jStorage_update;}}catch(N){}}else{if("globalStorage" in window){try{if(window.globalStorage){if(window.location.hostname=="localhost"){c=window.globalStorage["localhost.localdomain"];
}else{c=window.globalStorage[window.location.hostname];}j="globalStorage";A=c.jStorage_update;}}catch(M){}}else{z=document.createElement("link");if(z.addBehavior){z.style.behavior="url(#default#userData)";
document.getElementsByTagName("head")[0].appendChild(z);try{z.load("jStorage");}catch(L){z.setAttribute("jStorage","{}");z.save("jStorage");z.load("jStorage");
}var K="{}";try{K=z.getAttribute("jStorage");}catch(J){}try{A=z.getAttribute("jStorage_update");}catch(I){}c.jStorage=K;j="userDataBehavior";}else{z=null;
return;}}}m();b();x();v();if("addEventListener" in window){window.addEventListener("pageshow",function(O){if(O.persisted){q();}},false);}}function f(){var I="{}";
if(j=="userDataBehavior"){z.load("jStorage");try{I=z.getAttribute("jStorage");}catch(H){}try{A=z.getAttribute("jStorage_update");}catch(G){}c.jStorage=I;
}m();b();v();}function x(){if(j=="localStorage"||j=="globalStorage"){if("addEventListener" in window){window.addEventListener("storage",q,false);}else{document.attachEvent("onstorage",q);
}}else{if(j=="userDataBehavior"){setInterval(q,1000);}}}function q(){var G;clearTimeout(D);D=setTimeout(function(){if(j=="localStorage"||j=="globalStorage"){G=c.jStorage_update;
}else{if(j=="userDataBehavior"){z.load("jStorage");try{G=z.getAttribute("jStorage_update");}catch(H){}}}if(G&&G!=A){A=G;i();}},25);}function i(){var G=g.parse(g.stringify(n.__jstorage_meta.CRC32)),K;
f();K=g.parse(g.stringify(n.__jstorage_meta.CRC32));var I,H=[],J=[];for(I in G){if(G.hasOwnProperty(I)){if(!K[I]){J.push(I);continue;}if(G[I]!=K[I]&&String(G[I]).substr(0,2)=="2."){H.push(I);
}}}for(I in K){if(K.hasOwnProperty(I)){if(!G[I]){H.push(I);}}}F(H,"updated");F(J,"deleted");}function F(L,M){L=[].concat(L||[]);if(M=="flushed"){L=[];for(var K in l){if(l.hasOwnProperty(K)){L.push(K);
}}M="deleted";}for(var J=0,G=L.length;J<G;J++){if(l[L[J]]){for(var I=0,H=l[L[J]].length;I<H;I++){l[L[J]][I](L[J],M);}}if(l["*"]){for(var I=0,H=l["*"].length;
I<H;I++){l["*"][I](L[J],M);}}}}function o(){var H=(+new Date()).toString();if(j=="localStorage"||j=="globalStorage"){try{c.jStorage_update=H;}catch(G){j=false;
}}else{if(j=="userDataBehavior"){z.setAttribute("jStorage_update",H);z.save("jStorage");}}q();}function m(){if(c.jStorage){try{n=g.parse(String(c.jStorage));
}catch(G){c.jStorage="{}";}}else{c.jStorage="{}";}p=c.jStorage?String(c.jStorage).length:0;if(!n.__jstorage_meta){n.__jstorage_meta={};}if(!n.__jstorage_meta.CRC32){n.__jstorage_meta.CRC32={};
}}function s(){a();try{c.jStorage=g.stringify(n);if(z){z.setAttribute("jStorage",c.jStorage);z.save("jStorage");}p=c.jStorage?String(c.jStorage).length:0;
}catch(G){}}function w(G){if(typeof G!="string"&&typeof G!="number"){throw new TypeError("Key name must be string or numeric");}if(G=="__jstorage_meta"){throw new TypeError("Reserved key name");
}return true;}function b(){var M,H,K,I,J=Infinity,L=false,G=[];clearTimeout(B);if(!n.__jstorage_meta||typeof n.__jstorage_meta.TTL!="object"){return;}M=+new Date();
K=n.__jstorage_meta.TTL;I=n.__jstorage_meta.CRC32;for(H in K){if(K.hasOwnProperty(H)){if(K[H]<=M){delete K[H];delete I[H];delete n[H];L=true;G.push(H);
}else{if(K[H]<J){J=K[H];}}}}if(J!=Infinity){B=setTimeout(Math.min(b,J-M,2147483647));}if(L){s();o();F(G,"deleted");}}function v(){var J,H;if(!n.__jstorage_meta.PubSub){return;
}var G,I=y;for(J=H=n.__jstorage_meta.PubSub.length-1;J>=0;J--){G=n.__jstorage_meta.PubSub[J];if(G[0]>y){I=G[0];d(G[1],G[2]);}}y=I;}function d(I,K){if(t[I]){for(var H=0,G=t[I].length;
H<G;H++){try{t[I][H](I,g.parse(g.stringify(K)));}catch(J){}}}}function a(){if(!n.__jstorage_meta.PubSub){return;}var I=+new Date()-2000;for(var H=0,G=n.__jstorage_meta.PubSub.length;
H<G;H++){if(n.__jstorage_meta.PubSub[H][0]<=I){n.__jstorage_meta.PubSub.splice(H,n.__jstorage_meta.PubSub.length-H);break;}}if(!n.__jstorage_meta.PubSub.length){delete n.__jstorage_meta.PubSub;
}}function h(G,H){if(!n.__jstorage_meta){n.__jstorage_meta={};}if(!n.__jstorage_meta.PubSub){n.__jstorage_meta.PubSub=[];}n.__jstorage_meta.PubSub.unshift([+new Date,G,H]);
s();o();}function E(L,H){var G=L.length,K=H^G,J=0,I;while(G>=4){I=((L.charCodeAt(J)&255))|((L.charCodeAt(++J)&255)<<8)|((L.charCodeAt(++J)&255)<<16)|((L.charCodeAt(++J)&255)<<24);
I=(((I&65535)*1540483477)+((((I>>>16)*1540483477)&65535)<<16));I^=I>>>24;I=(((I&65535)*1540483477)+((((I>>>16)*1540483477)&65535)<<16));K=(((K&65535)*1540483477)+((((K>>>16)*1540483477)&65535)<<16))^I;
G-=4;++J;}switch(G){case 3:K^=(L.charCodeAt(J+2)&255)<<16;case 2:K^=(L.charCodeAt(J+1)&255)<<8;case 1:K^=(L.charCodeAt(J)&255);K=(((K&65535)*1540483477)+((((K>>>16)*1540483477)&65535)<<16));
}K^=K>>>13;K=(((K&65535)*1540483477)+((((K>>>16)*1540483477)&65535)<<16));K^=K>>>15;return K>>>0;}k.jStorage={version:u,set:function(H,I,G){w(H);G=G||{};
if(typeof I=="undefined"){this.deleteKey(H);return I;}if(C.isXML(I)){I={_is_xml:true,xml:C.encode(I)};}else{if(typeof I=="function"){return undefined;}else{if(I&&typeof I=="object"){I=g.parse(g.stringify(I));
}}}n[H]=I;n.__jstorage_meta.CRC32[H]="2."+E(g.stringify(I),2538058380);this.setTTL(H,G.TTL||0);F(H,"updated");return I;},get:function(G,H){w(G);if(G in n){if(n[G]&&typeof n[G]=="object"&&n[G]._is_xml){return C.decode(n[G].xml);
}else{return n[G];}}return typeof(H)=="undefined"?null:H;},deleteKey:function(G){w(G);if(G in n){delete n[G];if(typeof n.__jstorage_meta.TTL=="object"&&G in n.__jstorage_meta.TTL){delete n.__jstorage_meta.TTL[G];
}delete n.__jstorage_meta.CRC32[G];s();o();F(G,"deleted");return true;}return false;},setTTL:function(H,G){var I=+new Date();w(H);G=Number(G)||0;if(H in n){if(!n.__jstorage_meta.TTL){n.__jstorage_meta.TTL={};
}if(G>0){n.__jstorage_meta.TTL[H]=I+G;}else{delete n.__jstorage_meta.TTL[H];}s();b();o();return true;}return false;},getTTL:function(H){var I=+new Date(),G;
w(H);if(H in n&&n.__jstorage_meta.TTL&&n.__jstorage_meta.TTL[H]){G=n.__jstorage_meta.TTL[H]-I;return G||0;}return 0;},flush:function(){n={__jstorage_meta:{CRC32:{}}};
s();o();F(null,"flushed");return true;},storageObj:function(){function G(){}G.prototype=n;return new G();},index:function(){var G=[],H;for(H in n){if(n.hasOwnProperty(H)&&H!="__jstorage_meta"){G.push(H);
}}return G;},storageSize:function(){return p;},currentBackend:function(){return j;},storageAvailable:function(){return !!j;},listenKeyChange:function(G,H){w(G);
if(!l[G]){l[G]=[];}l[G].push(H);},stopListening:function(H,I){w(H);if(!l[H]){return;}if(!I){delete l[H];return;}for(var G=l[H].length-1;G>=0;G--){if(l[H][G]==I){l[H].splice(G,1);
}}},subscribe:function(G,H){G=(G||"").toString();if(!G){throw new TypeError("Channel not defined");}if(!t[G]){t[G]=[];}t[G].push(H);},publish:function(G,H){G=(G||"").toString();
if(!G){throw new TypeError("Channel not defined");}h(G,H);},reInit:function(){f();},noConflict:function(G){delete window.$.jStorage;if(G){window.jStorage=this;
}return this;}};r();})(jQuery);(function(c){var a=c.scrollTo=function(g,f,d){c(window).scrollTo(g,f,d);};a.defaults={axis:"y",duration:1};a.window=function(d){return c(window).scrollable();
};c.fn.scrollable=function(){return this.map(function(){var h=this.parentWindow||this.defaultView,f=this.nodeName=="#document"?h.frameElement||h:this,g=f.contentDocument||(f.contentWindow||f).document,d=f.setInterval;
return f.nodeName=="IFRAME"||d&&c.browser.safari?g.body:d?g.documentElement:this;});};c.fn.scrollTo=function(g,f,d){if(typeof f=="object"){d=f;f=0;}if(typeof d=="function"){d={onAfter:d};
}d=c.extend({},a.defaults,d);f=f||d.speed||d.duration;d.queue=d.queue&&d.axis.length>1;if(d.queue){f/=2;}d.offset=b(d.offset);d.over=b(d.over);return this.scrollable().each(function(){var n=this,l=c(n),m=g,k,i={},o=l.is("html,body");
switch(typeof m){case"number":case"string":if(/^([+-]=)?\d+(px)?$/.test(m)){m=b(m);break;}m=c(m,this);case"object":if(m.is||m.style){k=(m=c(m)).offset();
}}c.each(d.axis.split(""),function(s,t){var u=t=="x"?"Left":"Top",w=u.toLowerCase(),r="scroll"+u,p=n[r],q=t=="x"?"Width":"Height",v=q.toLowerCase();if(k){i[r]=k[w]+(o?0:p-l.offset()[w]);
if(d.margin){i[r]-=parseInt(m.css("margin"+u))||0;i[r]-=parseInt(m.css("border"+u+"Width"))||0;}i[r]+=d.offset[w]||0;if(d.over[w]){i[r]+=m[v]()*d.over[w];
}}else{i[r]=m[w];}if(/^\d+$/.test(i[r])){i[r]=i[r]<=0?0:Math.min(i[r],h(q));}if(!s&&d.queue){if(p!=i[r]){j(d.onAfterFirst);}delete i[r];}});j(d.onAfter);
function j(p){l.animate(i,f,d.easing,p&&function(){p.call(this,g,d);});}function h(q){var p="scroll"+q,r=n.ownerDocument;return o?Math.max(r.documentElement[p],r.body[p]):n[p];
}}).end();};function b(d){return typeof d=="object"?d:{top:d,left:d};}})(jQuery);
/*! http://mths.be/placeholder v2.1.0 by @mathias */
(function(h){var b=Object.prototype.toString.call(window.operamini)=="[object OperaMini]";
var a="placeholder" in document.createElement("input")&&!b;var i="placeholder" in document.createElement("textarea")&&!b;var g=h.valHooks;var c=h.propHooks;
var m;var l;if(a&&i){l=h.fn.placeholder=function(){return this;};l.input=l.textarea=true;}else{var f={};l=h.fn.placeholder=function(o){var q={customClass:"placeholder"};
f=h.extend({},q,o);var p=this;p.filter((a?"textarea":":input")+"[placeholder]").not("."+f.customClass).bind({"focus.placeholder":d,"blur.placeholder":j}).data("placeholder-enabled",true).trigger("blur.placeholder");
return p;};l.input=a;l.textarea=i;m={get:function(p){var o=h(p);var q=o.data("placeholder-password");if(q){return q[0].value;}return o.data("placeholder-enabled")&&o.hasClass(f.customClass)?"":p.value;
},set:function(p,r){var o=h(p);var q=o.data("placeholder-password");if(q){return q[0].value=r;}if(!o.data("placeholder-enabled")){return p.value=r;}if(r===""){p.value=r;
if(p!=n()){j.call(p);}}else{if(o.hasClass(f.customClass)){d.call(p,true,r)||(p.value=r);}else{p.value=r;}}return o;}};if(!a){g.input=m;c.value=m;}if(!i){g.textarea=m;
c.value=m;}h(function(){h(document).delegate("form","submit.placeholder",function(){var o=h("."+f.customClass,this).each(d);setTimeout(function(){o.each(j);
},10);});});h(window).bind("beforeunload.placeholder",function(){h("."+f.customClass).each(function(){this.value="";});});}function k(p){var o={};var q=/^jQuery\d+$/;
h.each(p.attributes,function(s,r){if(r.specified&&!q.test(r.name)){o[r.name]=r.value;}});return o;}function d(p,q){var o=this;var r=h(o);if(o.value==r.attr("placeholder")&&r.hasClass(f.customClass)){if(r.data("placeholder-password")){r=r.hide().nextAll('input[type="password"]:first').show().attr("id",r.removeAttr("id").data("placeholder-id"));
if(p===true){return r[0].value=q;}r.focus();}else{o.value="";r.removeClass(f.customClass);o==n()&&o.select();}}}function j(){var s;var o=this;var r=h(o);
var q=this.id;if(o.value===""){if(o.type==="password"){if(!r.data("placeholder-textinput")){try{s=r.clone().attr({type:"text"});}catch(p){s=h("<input>").attr(h.extend(k(this),{type:"text"}));
}s.removeAttr("name").data({"placeholder-password":r,"placeholder-id":q}).bind("focus.placeholder",d);r.data({"placeholder-textinput":s,"placeholder-id":q}).before(s);
}r=r.removeAttr("id").hide().prevAll('input[type="text"]:first').attr("id",q).show();}r.addClass(f.customClass);r[0].value=r.attr("placeholder");}else{r.removeClass(f.customClass);
}}function n(){try{return document.activeElement;}catch(o){}}})(jQuery);var CryptoJS=CryptoJS||function(x,i){var c={},t=c.lib={},o=function(){},w=t.Base={extend:function(b){o.prototype=this;
var f=new o;b&&f.mixIn(b);f.hasOwnProperty("init")||(f.init=function(){f.$super.init.apply(this,arguments);});f.init.prototype=f;f.$super=this;return f;
},create:function(){var b=this.extend();b.init.apply(b,arguments);return b;},init:function(){},mixIn:function(b){for(var f in b){b.hasOwnProperty(f)&&(this[f]=b[f]);
}b.hasOwnProperty("toString")&&(this.toString=b.toString);},clone:function(){return this.init.prototype.extend(this);}},d=t.WordArray=w.extend({init:function(b,f){b=this.words=b||[];
this.sigBytes=f!=i?f:4*b.length;},toString:function(b){return(b||u).stringify(this);},concat:function(g){var k=this.words,h=g.words,j=this.sigBytes;g=g.sigBytes;
this.clamp();if(j%4){for(var f=0;f<g;f++){k[j+f>>>2]|=(h[f>>>2]>>>24-8*(f%4)&255)<<24-8*((j+f)%4);}}else{if(65535<h.length){for(f=0;f<g;f+=4){k[j+f>>>2]=h[f>>>2];
}}else{k.push.apply(k,h);}}this.sigBytes+=g;return this;},clamp:function(){var b=this.words,f=this.sigBytes;b[f>>>2]&=4294967295<<32-8*(f%4);b.length=x.ceil(f/4);
},clone:function(){var b=w.clone.call(this);b.words=this.words.slice(0);return b;},random:function(g){for(var h=[],f=0;f<g;f+=4){h.push(4294967296*x.random()|0);
}return new d.init(h,g);}}),y=c.enc={},u=y.Hex={stringify:function(h){var l=h.words;h=h.sigBytes;for(var g=[],k=0;k<h;k++){var j=l[k>>>2]>>>24-8*(k%4)&255;
g.push((j>>>4).toString(16));g.push((j&15).toString(16));}return g.join("");},parse:function(g){for(var j=g.length,f=[],h=0;h<j;h+=2){f[h>>>3]|=parseInt(g.substr(h,2),16)<<24-4*(h%8);
}return new d.init(f,j/2);}},v=y.Latin1={stringify:function(g){var j=g.words;g=g.sigBytes;for(var f=[],h=0;h<g;h++){f.push(String.fromCharCode(j[h>>>2]>>>24-8*(h%4)&255));
}return f.join("");},parse:function(g){for(var j=g.length,f=[],h=0;h<j;h++){f[h>>>2]|=(g.charCodeAt(h)&255)<<24-8*(h%4);}return new d.init(f,j);}},a=y.Utf8={stringify:function(b){try{return decodeURIComponent(escape(v.stringify(b)));
}catch(f){throw Error("Malformed UTF-8 data");}},parse:function(b){return v.parse(unescape(encodeURIComponent(b)));}},q=t.BufferedBlockAlgorithm=w.extend({reset:function(){this._data=new d.init;
this._nDataBytes=0;},_append:function(b){"string"==typeof b&&(b=a.parse(b));this._data.concat(b);this._nDataBytes+=b.sigBytes;},_process:function(k){var r=this._data,j=r.words,p=r.sigBytes,n=this.blockSize,l=p/(4*n),l=k?x.ceil(l):x.max((l|0)-this._minBufferSize,0);
k=l*n;p=x.min(4*k,p);if(k){for(var m=0;m<k;m+=n){this._doProcessBlock(j,m);}m=j.splice(0,k);r.sigBytes-=p;}return new d.init(m,p);},clone:function(){var b=w.clone.call(this);
b._data=this._data.clone();return b;},_minBufferSize:0});t.Hasher=q.extend({cfg:w.extend(),init:function(b){this.cfg=this.cfg.extend(b);this.reset();},reset:function(){q.reset.call(this);
this._doReset();},update:function(b){this._append(b);this._process();return this;},finalize:function(b){b&&this._append(b);return this._doFinalize();},blockSize:16,_createHelper:function(b){return function(g,f){return(new b.init(f)).finalize(g);
};},_createHmacHelper:function(b){return function(g,h){return(new z.HMAC.init(b,h)).finalize(g);};}});var z=c.algo={};return c;}(Math);(function(){var f=CryptoJS,a=f.lib,d=a.WordArray,c=a.Hasher,b=[],a=f.algo.SHA1=c.extend({_doReset:function(){this._hash=new d.init([1732584193,4023233417,2562383102,271733878,3285377520]);
},_doProcessBlock:function(q,i){for(var t=this._hash.words,o=t[0],p=t[1],r=t[2],l=t[3],m=t[4],u=0;80>u;u++){if(16>u){b[u]=q[i+u]|0;}else{var s=b[u-3]^b[u-8]^b[u-14]^b[u-16];
b[u]=s<<1|s>>>31;}s=(o<<5|o>>>27)+m+b[u];s=20>u?s+((p&r|~p&l)+1518500249):40>u?s+((p^r^l)+1859775393):60>u?s+((p&r|p&l|r&l)-1894007588):s+((p^r^l)-899497514);
m=l;l=r;r=p<<30|p>>>2;p=o;o=s;}t[0]=t[0]+o|0;t[1]=t[1]+p|0;t[2]=t[2]+r|0;t[3]=t[3]+l|0;t[4]=t[4]+m|0;},_doFinalize:function(){var j=this._data,k=j.words,g=8*this._nDataBytes,i=8*j.sigBytes;
k[i>>>5]|=128<<24-i%32;k[(i+64>>>9<<4)+14]=Math.floor(g/4294967296);k[(i+64>>>9<<4)+15]=g;j.sigBytes=4*k.length;this._process();return this._hash;},clone:function(){var g=c.clone.call(this);
g._hash=this._hash.clone();return g;}});f.SHA1=c._createHelper(a);f.HmacSHA1=c._createHmacHelper(a);})();
/*! intercom.js | https://github.com/diy/intercom.js | Apache License (v2) */
/*! Removed Socket.io binding for intercom.js */
var Intercom=(function(){var l=function(){};
l.createInterface=function(n){var m={};m.on=function(o,p){if(typeof this[n]==="undefined"){this[n]={};}if(!this[n].hasOwnProperty(o)){this[n][o]=[];}this[n][o].push(p);
};m.off=function(o,p){if(typeof this[n]==="undefined"){return;}if(this[n].hasOwnProperty(o)){g.removeItem(p,this[n][o]);}};m.trigger=function(p){if(typeof this[n]!=="undefined"&&this[n].hasOwnProperty(p)){var o=Array.prototype.slice.call(arguments,1);
for(var q=0;q<this[n][p].length;q++){this[n][p][q].apply(this[n][p][q],o);}}};return m;};var b=l.createInterface("_handlers");l.prototype._on=b.on;l.prototype._off=b.off;
l.prototype._trigger=b.trigger;var d=l.createInterface("handlers");l.prototype.on=function(){d.on.apply(this,arguments);Array.prototype.unshift.call(arguments,"on");
this._trigger.apply(this,arguments);};l.prototype.off=d.off;l.prototype.trigger=d.trigger;var k=window.localStorage;if(typeof k==="undefined"){k={getItem:function(){},setItem:function(){},removeItem:function(){}};
}var g={};g.guid=(function(){var m=function(){return(((1+Math.random())*65536)|0).toString(16).substring(1);};return function(){return m()+m()+"-"+m()+"-"+m()+"-"+m()+"-"+m()+m()+m();
};})();g.throttle=function(m,n){var o=0;return function(){var p=(new Date()).getTime();if(p-o>m){o=p;n.apply(this,arguments);}};};g.extend=function(n,m){if(typeof n==="undefined"||!n){n={};
}if(typeof m==="object"){for(var o in m){if(m.hasOwnProperty(o)){n[o]=m[o];}}}return n;};g.removeItem=function(n,o){for(var m=o.length-1;m>=0;m--){if(o[m]===n){o.splice(m,1);
}}return o;};var j=function(){var m=this;var n=(new Date()).getTime();this.origin=g.guid();this.lastMessage=n;this.bindings=[];this.receivedIDs={};this.previousValues={};
var o=function(){m._onStorageEvent.apply(m,arguments);};if(window.attachEvent){document.attachEvent("onstorage",o);}else{window.addEventListener("storage",o,false);
}};j.prototype._transaction=function(s){var m=1000;var o=20;var u=this;var p=false;var q=false;var r=null;var t=function(){if(p){return;}var v=(new Date()).getTime();
var w=parseInt(k.getItem(f)||0);if(w&&v-w<m){if(!q){u._on("storage",t);q=true;}r=window.setTimeout(t,o);return;}p=true;k.setItem(f,v);s();n();};var n=function(){if(q){u._off("storage",t);
}if(r){window.clearTimeout(r);}k.removeItem(f);};t();};j.prototype._cleanup_emit=g.throttle(100,function(){var m=this;this._transaction(function(){var o=(new Date()).getTime();
var n=o-i;var r=0;var q=JSON.parse(k.getItem(c)||"[]");for(var p=q.length-1;p>=0;p--){if(q[p].timestamp<n){q.splice(p,1);r++;}}if(r>0){k.setItem(c,JSON.stringify(q));
}});});j.prototype._cleanup_once=g.throttle(100,function(){var m=this;this._transaction(function(){var r,n,p;var q=JSON.parse(k.getItem(h)||"{}");var o=(new Date()).getTime();
var s=0;for(p in q){if(m._once_expired(p,q)){delete q[p];s++;}}if(s>0){k.setItem(h,JSON.stringify(q));}});});j.prototype._once_expired=function(o,p){if(!p){return true;
}if(!p.hasOwnProperty(o)){return true;}if(typeof p[o]!=="object"){return true;}var m=p[o].ttl||a;var n=(new Date()).getTime();var q=p[o].timestamp;return q<n-m;
};j.prototype._localStorageChanged=function(n,o){if(n&&n.key){return n.key===o;}var m=k.getItem(o);if(m===this.previousValues[o]){return false;}this.previousValues[o]=m;
return true;};j.prototype._onStorageEvent=function(n){n=n||window.event;var m=this;if(this._localStorageChanged(n,c)){this._transaction(function(){var o=(new Date()).getTime();
var r=k.getItem(c);var q=JSON.parse(r||"[]");for(var p=0;p<q.length;p++){if(q[p].origin===m.origin){continue;}if(q[p].timestamp<m.lastMessage){continue;
}if(q[p].id){if(m.receivedIDs.hasOwnProperty(q[p].id)){continue;}m.receivedIDs[q[p].id]=true;}m.trigger(q[p].name,q[p].payload);}m.lastMessage=o;});}this._trigger("storage",n);
};j.prototype._emit=function(n,o,q){q=(typeof q==="string"||typeof q==="number")?String(q):null;if(q&&q.length){if(this.receivedIDs.hasOwnProperty(q)){return;
}this.receivedIDs[q]=true;}var p={id:q,name:n,origin:this.origin,timestamp:(new Date()).getTime(),payload:o};var m=this;this._transaction(function(){var s=k.getItem(c)||"[]";
var r=(s==="[]")?"":",";s=[s.substring(0,s.length-1),r,JSON.stringify(p),"]"].join("");k.setItem(c,s);m.trigger(n,o);window.setTimeout(function(){m._cleanup_emit();
},50);});};j.prototype.bind=function(n,m){for(var o=0;o<j.bindings.length;o++){var p=j.bindings[o].factory(n,m||null,this);if(p){this.bindings.push(p);
}}};j.prototype.emit=function(m,n){this._emit.apply(this,arguments);this._trigger("emit",m,n);};j.prototype.once=function(o,p,m){if(!j.supported){return;
}var n=this;this._transaction(function(){var q=JSON.parse(k.getItem(h)||"{}");if(!n._once_expired(o,q)){return;}q[o]={};q[o].timestamp=(new Date()).getTime();
if(typeof m==="number"){q[o].ttl=m*1000;}k.setItem(h,JSON.stringify(q));p();window.setTimeout(function(){n._cleanup_once();},50);});};g.extend(j.prototype,l.prototype);
j.bindings=[];j.supported=(typeof k!=="undefined");var c="intercom";var h="intercom_once";var f="intercom_lock";var i=50000;var a=1000*3600;j.destroy=function(){k.removeItem(f);
k.removeItem(c);k.removeItem(h);};j.getInstance=(function(){var m=null;return function(){if(!m){m=new j();}return m;};})();return j;})();(function(){var x=this;
var l=x._;var E={};var D=Array.prototype,g=Object.prototype,s=Function.prototype;var I=D.push,p=D.slice,z=D.concat,d=g.toString,k=g.hasOwnProperty;var M=D.forEach,r=D.map,F=D.reduce,c=D.reduceRight,b=D.filter,C=D.every,q=D.some,o=D.indexOf,m=D.lastIndexOf,v=Array.isArray,f=Object.keys,G=s.bind;
var N=function(O){if(O instanceof N){return O;}if(!(this instanceof N)){return new N(O);}this._wrapped=O;};if(typeof exports!=="undefined"){if(typeof module!=="undefined"&&module.exports){exports=module.exports=N;
}exports._=N;}else{x._=N;}N.VERSION="1.6.0";var J=N.each=N.forEach=function(T,Q,P){if(T==null){return T;}if(M&&T.forEach===M){T.forEach(Q,P);}else{if(T.length===+T.length){for(var O=0,S=T.length;
O<S;O++){if(Q.call(P,T[O],O,T)===E){return;}}}else{var R=N.keys(T);for(var O=0,S=R.length;O<S;O++){if(Q.call(P,T[R[O]],R[O],T)===E){return;}}}}return T;
};N.map=N.collect=function(R,Q,P){var O=[];if(R==null){return O;}if(r&&R.map===r){return R.map(Q,P);}J(R,function(U,S,T){O.push(Q.call(P,U,S,T));});return O;
};var h="Reduce of empty array with no initial value";N.reduce=N.foldl=N.inject=function(S,R,O,Q){var P=arguments.length>2;if(S==null){S=[];}if(F&&S.reduce===F){if(Q){R=N.bind(R,Q);
}return P?S.reduce(R,O):S.reduce(R);}J(S,function(V,T,U){if(!P){O=V;P=true;}else{O=R.call(Q,O,V,T,U);}});if(!P){throw new TypeError(h);}return O;};N.reduceRight=N.foldr=function(U,R,O,Q){var P=arguments.length>2;
if(U==null){U=[];}if(c&&U.reduceRight===c){if(Q){R=N.bind(R,Q);}return P?U.reduceRight(R,O):U.reduceRight(R);}var T=U.length;if(T!==+T){var S=N.keys(U);
T=S.length;}J(U,function(X,V,W){V=S?S[--T]:--T;if(!P){O=U[V];P=true;}else{O=R.call(Q,O,U[V],V,W);}});if(!P){throw new TypeError(h);}return O;};N.find=N.detect=function(R,P,Q){var O;
B(R,function(U,S,T){if(P.call(Q,U,S,T)){O=U;return true;}});return O;};N.filter=N.select=function(R,O,Q){var P=[];if(R==null){return P;}if(b&&R.filter===b){return R.filter(O,Q);
}J(R,function(U,S,T){if(O.call(Q,U,S,T)){P.push(U);}});return P;};N.reject=function(Q,O,P){return N.filter(Q,function(T,R,S){return !O.call(P,T,R,S);},P);
};N.every=N.all=function(R,P,Q){P||(P=N.identity);var O=true;if(R==null){return O;}if(C&&R.every===C){return R.every(P,Q);}J(R,function(U,S,T){if(!(O=O&&P.call(Q,U,S,T))){return E;
}});return !!O;};var B=N.some=N.any=function(R,P,Q){P||(P=N.identity);var O=false;if(R==null){return O;}if(q&&R.some===q){return R.some(P,Q);}J(R,function(U,S,T){if(O||(O=P.call(Q,U,S,T))){return E;
}});return !!O;};N.contains=N.include=function(P,O){if(P==null){return false;}if(o&&P.indexOf===o){return P.indexOf(O)!=-1;}return B(P,function(Q){return Q===O;
});};N.invoke=function(Q,R){var O=p.call(arguments,2);var P=N.isFunction(R);return N.map(Q,function(S){return(P?R:S[R]).apply(S,O);});};N.pluck=function(P,O){return N.map(P,N.property(O));
};N.where=function(P,O){return N.filter(P,N.matches(O));};N.findWhere=function(P,O){return N.find(P,N.matches(O));};N.max=function(S,Q,P){if(!Q&&N.isArray(S)&&S[0]===+S[0]&&S.length<65535){return Math.max.apply(Math,S);
}var O=-Infinity,R=-Infinity;J(S,function(W,T,V){var U=Q?Q.call(P,W,T,V):W;if(U>R){O=W;R=U;}});return O;};N.min=function(S,Q,P){if(!Q&&N.isArray(S)&&S[0]===+S[0]&&S.length<65535){return Math.min.apply(Math,S);
}var O=Infinity,R=Infinity;J(S,function(W,T,V){var U=Q?Q.call(P,W,T,V):W;if(U<R){O=W;R=U;}});return O;};N.shuffle=function(R){var Q;var P=0;var O=[];J(R,function(S){Q=N.random(P++);
O[P-1]=O[Q];O[Q]=S;});return O;};N.sample=function(P,Q,O){if(Q==null||O){if(P.length!==+P.length){P=N.values(P);}return P[N.random(P.length-1)];}return N.shuffle(P).slice(0,Math.max(0,Q));
};var a=function(O){if(O==null){return N.identity;}if(N.isFunction(O)){return O;}return N.property(O);};N.sortBy=function(Q,P,O){P=a(P);return N.pluck(N.map(Q,function(T,R,S){return{value:T,index:R,criteria:P.call(O,T,R,S)};
}).sort(function(U,T){var S=U.criteria;var R=T.criteria;if(S!==R){if(S>R||S===void 0){return 1;}if(S<R||R===void 0){return -1;}}return U.index-T.index;
}),"value");};var u=function(O){return function(S,R,Q){var P={};R=a(R);J(S,function(V,T){var U=R.call(Q,V,T,S);O(P,U,V);});return P;};};N.groupBy=u(function(O,P,Q){N.has(O,P)?O[P].push(Q):O[P]=[Q];
});N.indexBy=u(function(O,P,Q){O[P]=Q;});N.countBy=u(function(O,P){N.has(O,P)?O[P]++:O[P]=1;});N.sortedIndex=function(V,U,R,Q){R=a(R);var T=R.call(Q,U);
var O=0,S=V.length;while(O<S){var P=(O+S)>>>1;R.call(Q,V[P])<T?O=P+1:S=P;}return O;};N.toArray=function(O){if(!O){return[];}if(N.isArray(O)){return p.call(O);
}if(O.length===+O.length){return N.map(O,N.identity);}return N.values(O);};N.size=function(O){if(O==null){return 0;}return(O.length===+O.length)?O.length:N.keys(O).length;
};N.first=N.head=N.take=function(Q,P,O){if(Q==null){return void 0;}if((P==null)||O){return Q[0];}if(P<0){return[];}return p.call(Q,0,P);};N.initial=function(Q,P,O){return p.call(Q,0,Q.length-((P==null)||O?1:P));
};N.last=function(Q,P,O){if(Q==null){return void 0;}if((P==null)||O){return Q[Q.length-1];}return p.call(Q,Math.max(Q.length-P,0));};N.rest=N.tail=N.drop=function(Q,P,O){return p.call(Q,(P==null)||O?1:P);
};N.compact=function(O){return N.filter(O,N.identity);};var y=function(P,Q,O){if(Q&&N.every(P,N.isArray)){return z.apply(O,P);}J(P,function(R){if(N.isArray(R)||N.isArguments(R)){Q?I.apply(O,R):y(R,Q,O);
}else{O.push(R);}});return O;};N.flatten=function(P,O){return y(P,O,[]);};N.without=function(O){return N.difference(O,p.call(arguments,1));};N.partition=function(S,O,Q){O=a(O);
var R=[],P=[];J(S,function(T){(O.call(Q,T)?R:P).push(T);});return[R,P];};N.uniq=N.unique=function(U,T,S,R){if(N.isFunction(T)){R=S;S=T;T=false;}var P=S?N.map(U,S,R):U;
var Q=[];var O=[];J(P,function(W,V){if(T?(!V||O[O.length-1]!==W):!N.contains(O,W)){O.push(W);Q.push(U[V]);}});return Q;};N.union=function(){return N.uniq(N.flatten(arguments,true));
};N.intersection=function(P){var O=p.call(arguments,1);return N.filter(N.uniq(P),function(Q){return N.every(O,function(R){return N.contains(R,Q);});});
};N.difference=function(P){var O=z.apply(D,p.call(arguments,1));return N.filter(P,function(Q){return !N.contains(O,Q);});};N.zip=function(){var Q=N.max(N.pluck(arguments,"length").concat(0));
var P=new Array(Q);for(var O=0;O<Q;O++){P[O]=N.pluck(arguments,""+O);}return P;};N.object=function(S,P){if(S==null){return{};}var O={};for(var Q=0,R=S.length;
Q<R;Q++){if(P){O[S[Q]]=P[Q];}else{O[S[Q][0]]=S[Q][1];}}return O;};N.indexOf=function(S,Q,R){if(S==null){return -1;}var O=0,P=S.length;if(R){if(typeof R=="number"){O=(R<0?Math.max(0,P+R):R);
}else{O=N.sortedIndex(S,Q);return S[O]===Q?O:-1;}}if(o&&S.indexOf===o){return S.indexOf(Q,R);}for(;O<P;O++){if(S[O]===Q){return O;}}return -1;};N.lastIndexOf=function(S,Q,R){if(S==null){return -1;
}var O=R!=null;if(m&&S.lastIndexOf===m){return O?S.lastIndexOf(Q,R):S.lastIndexOf(Q);}var P=(O?R:S.length);while(P--){if(S[P]===Q){return P;}}return -1;
};N.range=function(T,Q,S){if(arguments.length<=1){Q=T||0;T=0;}S=arguments[2]||1;var R=Math.max(Math.ceil((Q-T)/S),0);var O=0;var P=new Array(R);while(O<R){P[O++]=T;
T+=S;}return P;};var H=function(){};N.bind=function(R,P){var O,Q;if(G&&R.bind===G){return G.apply(R,p.call(arguments,1));}if(!N.isFunction(R)){throw new TypeError;
}O=p.call(arguments,2);return Q=function(){if(!(this instanceof Q)){return R.apply(P,O.concat(p.call(arguments)));}H.prototype=R.prototype;var T=new H;
H.prototype=null;var S=R.apply(T,O.concat(p.call(arguments)));if(Object(S)===S){return S;}return T;};};N.partial=function(O){var P=p.call(arguments,1);
return function(){var Q=0;var R=P.slice();for(var S=0,T=R.length;S<T;S++){if(R[S]===N){R[S]=arguments[Q++];}}while(Q<arguments.length){R.push(arguments[Q++]);
}return O.apply(this,R);};};N.bindAll=function(P){var O=p.call(arguments,1);if(O.length===0){throw new Error("bindAll must be passed function names");}J(O,function(Q){P[Q]=N.bind(P[Q],P);
});return P;};N.memoize=function(Q,P){var O={};P||(P=N.identity);return function(){var R=P.apply(this,arguments);return N.has(O,R)?O[R]:(O[R]=Q.apply(this,arguments));
};};N.delay=function(P,Q){var O=p.call(arguments,2);return setTimeout(function(){return P.apply(null,O);},Q);};N.defer=function(O){return N.delay.apply(N,[O,1].concat(p.call(arguments,1)));
};N.throttle=function(P,R,V){var O,T,W;var U=null;var S=0;V||(V={});var Q=function(){S=V.leading===false?0:N.now();U=null;W=P.apply(O,T);O=T=null;};return function(){var X=N.now();
if(!S&&V.leading===false){S=X;}var Y=R-(X-S);O=this;T=arguments;if(Y<=0){clearTimeout(U);U=null;S=X;W=P.apply(O,T);O=T=null;}else{if(!U&&V.trailing!==false){U=setTimeout(Q,Y);
}}return W;};};N.debounce=function(Q,S,P){var V,U,O,T,W;var R=function(){var X=N.now()-T;if(X<S){V=setTimeout(R,S-X);}else{V=null;if(!P){W=Q.apply(O,U);
O=U=null;}}};return function(){O=this;U=arguments;T=N.now();var X=P&&!V;if(!V){V=setTimeout(R,S);}if(X){W=Q.apply(O,U);O=U=null;}return W;};};N.once=function(Q){var O=false,P;
return function(){if(O){return P;}O=true;P=Q.apply(this,arguments);Q=null;return P;};};N.wrap=function(O,P){return N.partial(P,O);};N.compose=function(){var O=arguments;
return function(){var P=arguments;for(var Q=O.length-1;Q>=0;Q--){P=[O[Q].apply(this,P)];}return P[0];};};N.after=function(P,O){return function(){if(--P<1){return O.apply(this,arguments);
}};};N.keys=function(Q){if(!N.isObject(Q)){return[];}if(f){return f(Q);}var P=[];for(var O in Q){if(N.has(Q,O)){P.push(O);}}return P;};N.values=function(S){var R=N.keys(S);
var Q=R.length;var O=new Array(Q);for(var P=0;P<Q;P++){O[P]=S[R[P]];}return O;};N.pairs=function(S){var Q=N.keys(S);var P=Q.length;var R=new Array(P);for(var O=0;
O<P;O++){R[O]=[Q[O],S[Q[O]]];}return R;};N.invert=function(S){var O={};var R=N.keys(S);for(var P=0,Q=R.length;P<Q;P++){O[S[R[P]]]=R[P];}return O;};N.functions=N.methods=function(Q){var P=[];
for(var O in Q){if(N.isFunction(Q[O])){P.push(O);}}return P.sort();};N.extend=function(O){J(p.call(arguments,1),function(P){if(P){for(var Q in P){O[Q]=P[Q];
}}});return O;};N.pick=function(P){var Q={};var O=z.apply(D,p.call(arguments,1));J(O,function(R){if(R in P){Q[R]=P[R];}});return Q;};N.omit=function(Q){var R={};
var P=z.apply(D,p.call(arguments,1));for(var O in Q){if(!N.contains(P,O)){R[O]=Q[O];}}return R;};N.defaults=function(O){J(p.call(arguments,1),function(P){if(P){for(var Q in P){if(O[Q]===void 0){O[Q]=P[Q];
}}}});return O;};N.clone=function(O){if(!N.isObject(O)){return O;}return N.isArray(O)?O.slice():N.extend({},O);};N.tap=function(P,O){O(P);return P;};var K=function(V,U,P,Q){if(V===U){return V!==0||1/V==1/U;
}if(V==null||U==null){return V===U;}if(V instanceof N){V=V._wrapped;}if(U instanceof N){U=U._wrapped;}var S=d.call(V);if(S!=d.call(U)){return false;}switch(S){case"[object String]":return V==String(U);
case"[object Number]":return V!=+V?U!=+U:(V==0?1/V==1/U:V==+U);case"[object Date]":case"[object Boolean]":return +V==+U;case"[object RegExp]":return V.source==U.source&&V.global==U.global&&V.multiline==U.multiline&&V.ignoreCase==U.ignoreCase;
}if(typeof V!="object"||typeof U!="object"){return false;}var O=P.length;while(O--){if(P[O]==V){return Q[O]==U;}}var T=V.constructor,R=U.constructor;if(T!==R&&!(N.isFunction(T)&&(T instanceof T)&&N.isFunction(R)&&(R instanceof R))&&("constructor" in V&&"constructor" in U)){return false;
}P.push(V);Q.push(U);var Y=0,X=true;if(S=="[object Array]"){Y=V.length;X=Y==U.length;if(X){while(Y--){if(!(X=K(V[Y],U[Y],P,Q))){break;}}}}else{for(var W in V){if(N.has(V,W)){Y++;
if(!(X=N.has(U,W)&&K(V[W],U[W],P,Q))){break;}}}if(X){for(W in U){if(N.has(U,W)&&!(Y--)){break;}}X=!Y;}}P.pop();Q.pop();return X;};N.isEqual=function(P,O){return K(P,O,[],[]);
};N.isEmpty=function(P){if(P==null){return true;}if(N.isArray(P)||N.isString(P)){return P.length===0;}for(var O in P){if(N.has(P,O)){return false;}}return true;
};N.isElement=function(O){return !!(O&&O.nodeType===1);};N.isArray=v||function(O){return d.call(O)=="[object Array]";};N.isObject=function(O){return O===Object(O);
};J(["Arguments","Function","String","Number","Date","RegExp"],function(O){N["is"+O]=function(P){return d.call(P)=="[object "+O+"]";};});if(!N.isArguments(arguments)){N.isArguments=function(O){return !!(O&&N.has(O,"callee"));
};}if(typeof(/./)!=="function"){N.isFunction=function(O){return typeof O==="function";};}N.isFinite=function(O){return isFinite(O)&&!isNaN(parseFloat(O));
};N.isNaN=function(O){return N.isNumber(O)&&O!=+O;};N.isBoolean=function(O){return O===true||O===false||d.call(O)=="[object Boolean]";};N.isNull=function(O){return O===null;
};N.isUndefined=function(O){return O===void 0;};N.has=function(P,O){return k.call(P,O);};N.noConflict=function(){x._=l;return this;};N.identity=function(O){return O;
};N.constant=function(O){return function(){return O;};};N.property=function(O){return function(P){return P[O];};};N.matches=function(O){return function(Q){if(Q===O){return true;
}for(var P in O){if(O[P]!==Q[P]){return false;}}return true;};};N.times=function(S,R,Q){var O=Array(Math.max(0,S));for(var P=0;P<S;P++){O[P]=R.call(Q,P);
}return O;};N.random=function(P,O){if(O==null){O=P;P=0;}return P+Math.floor(Math.random()*(O-P+1));};N.now=Date.now||function(){return new Date().getTime();
};var n={escape:{"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;"}};n.unescape=N.invert(n.escape);var L={escape:new RegExp("["+N.keys(n.escape).join("")+"]","g"),unescape:new RegExp("("+N.keys(n.unescape).join("|")+")","g")};
N.each(["escape","unescape"],function(O){N[O]=function(P){if(P==null){return"";}return(""+P).replace(L[O],function(Q){return n[O][Q];});};});N.result=function(O,Q){if(O==null){return void 0;
}var P=O[Q];return N.isFunction(P)?P.call(O):P;};N.mixin=function(O){J(N.functions(O),function(P){var Q=N[P]=O[P];N.prototype[P]=function(){var R=[this._wrapped];
I.apply(R,arguments);return t.call(this,Q.apply(N,R));};});};var A=0;N.uniqueId=function(O){var P=++A+"";return O?O+P:P;};N.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};
var w=/(.)^/;var i={"'":"'","\\":"\\","\r":"r","\n":"n","\t":"t","\u2028":"u2028","\u2029":"u2029"};var j=/\\|'|\r|\n|\t|\u2028|\u2029/g;N.template=function(W,R,Q){var P;
Q=N.defaults({},Q,N.templateSettings);var S=new RegExp([(Q.escape||w).source,(Q.interpolate||w).source,(Q.evaluate||w).source].join("|")+"|$","g");var T=0;
var O="__p+='";W.replace(S,function(Y,Z,X,ab,aa){O+=W.slice(T,aa).replace(j,function(ac){return"\\"+i[ac];});if(Z){O+="'+\n((__t=("+Z+"))==null?'':_.escape(__t))+\n'";
}if(X){O+="'+\n((__t=("+X+"))==null?'':__t)+\n'";}if(ab){O+="';\n"+ab+"\n__p+='";}T=aa+Y.length;return Y;});O+="';\n";if(!Q.variable){O="with(obj||{}){\n"+O+"}\n";
}O="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+O+"return __p;\n";try{P=new Function(Q.variable||"obj","_",O);
}catch(U){U.source=O;throw U;}if(R){return P(R,N);}var V=function(X){return P.call(this,X,N);};V.source="function("+(Q.variable||"obj")+"){\n"+O+"}";return V;
};N.chain=function(O){return N(O).chain();};var t=function(O){return this._chain?N(O).chain():O;};N.mixin(N);J(["pop","push","reverse","shift","sort","splice","unshift"],function(O){var P=D[O];
N.prototype[O]=function(){var Q=this._wrapped;P.apply(Q,arguments);if((O=="shift"||O=="splice")&&Q.length===0){delete Q[0];}return t.call(this,Q);};});
J(["concat","join","slice"],function(O){var P=D[O];N.prototype[O]=function(){return t.call(this,P.apply(this._wrapped,arguments));};});N.extend(N.prototype,{chain:function(){this._chain=true;
return this;},value:function(){return this._wrapped;}});if(typeof define==="function"&&define.amd){define("underscore",[],function(){return N;});}}).call(this);
LiveHelpSettings._=_.noConflict();LiveHelpSettings.cookies=Cookies.noConflict();(function(bb,t,bw,Z,bi,bB,aM){var am=("https:"===t.location.protocol?"https://":"http://"),w="/livehelp/",ad="/livehelp/",a2={home:"index.php",settings:"include/settings.php",visitor:"include/visitor.php",offline:"offline.php",security:"security.php",image:"image.php",chat:"chat.php",call:"call.php",signout:"logout.php",messages:"messages.php",send:"send.php",email:"email.php"},P=(typeof Z!=="undefined")?Z.server:t.location.host+t.location.pathname.substring(0,t.location.pathname.indexOf(w)),bn="#"+bw,Y={protocol:am,server:am+P+w,domain:t.location.host.replace("www.",""),department:"",template:"default",sprite:true,locale:"en",embedded:false,initiate:true,initiateDelay:0,css:true,fonts:true,session:"",security:"",popup:false,visitorTracking:null,plugin:"",name:"",custom:"",email:"",connected:false,hideOffline:true,chatBubbles:false,messageBubbles:true,personalised:false,offline:false,accepted:false,promptPrechatDelay:250,theme:"green"},m=0,bh,az=0,j=0,bO="",L,at="",a9,bu={left:0,top:0},S="",y,bm="",by={left:10,top:10},a0={width:323,height:229},aE,aC,aN={width:0,height:0},ay,aw=false,aO=0,aP=15*1000,ax=bB.now(),F,bc=(Z.account!==aM&&Z.account.length===36),h={name:(bc?"LiveHelp-"+Z.account:bw+"Session")},Q={session:LiveHelpSettings.cookies.get(h.name)},aX={user:"Guest",departments:[],visitorTracking:true,locale:"en",language:{copyright:"Copyright &copy; "+new Date().getFullYear(),online:"Online",offline:"Offline",brb:"Be Right Back",away:"Away",contactus:"Contact Us"}},a7={tabOpen:false,operatorDetailsOpen:true,soundEnabled:true,notificationEnabled:true,chatEnded:false,department:"",messages:0,lastMessage:0},bF="",ai,ag,bP={},ah=false,aH=[],x=true,aR=false;
if(!Date.now){Date.now=function(){return new Date().getTime();};}bB(t).on("click","."+bw+"Button",function(){z(bB(this));return false;});bB(t).on("click","."+bw+"CallButton",function(){z(bB(this),"",a2.call);
return false;});bB(t).on("click","."+bw+"OfflineButton",function(){K();return false;});bB.preloadImages=function(){for(var bQ=0;bQ<arguments.length;bQ++){bB("<img>").attr("src",arguments[bQ]);
}};function aD(){if(typeof Z!=="undefined"){Y=bB.extend(Y,Z);}if(Y.account!==aM&&Y.account.length===36){bB.each(a2,function(bQ,bR){if(bR.indexOf(Y.account)<0){if(bR.indexOf("api/")>-1){a2[bQ]=bR.replace("api/","api/"+Y.account+"/");
}else{a2[bQ]=Y.account+"/"+bR;}}});}if(Y.server.indexOf("http://")===-1&&Y.server.indexOf("https://")===-1){Y.server=Y.protocol+Y.server;}else{Y.server=Y.protocol+P;
}}aD();var aK=Intercom.getInstance(),aZ={origin:aK.origin,timer:false,master:true,time:new Date().getTime()},br=bi.sortedIndex(aH,aZ,"time");function an(bQ){aK.emit("close",{origin:aK.origin,master:x});
Y.visitorTracking=false;return void 0;}if(typeof bb!=="undefined"&&bb!==null){if(bb.addEventListener){bb.addEventListener("beforeunload",an);}else{if(bb.attachEvent){bb.attachEvent("onbeforeunload",an);
}}}aK.on("ready",function(bT){if(bT.origin!==aK.origin){Y.visitorTracking=false;x=false;var bS=bi.findWhere(aH,{origin:bT.origin});if(bS===aM){bi.each(aH,function(bV,bU,bW){bV.master=false;
});var bR={origin:bT.origin,timer:false,master:true,time:bT.time},bQ=bi.sortedIndex(aH,bR,"time");aH.splice(bQ,0,bR);}else{if(bS.timer!==false){bb.clearTimeout(bS.timer);
bS.timer=false;}bS.master=true;}}});function bq(bT){var bS=bi.findWhere(aH,{origin:bT.origin});if(bS===aM){var bR={origin:bT.origin,timer:false,master:bT.master,time:bT.time},bQ=bi.sortedIndex(aH,bR,"time");
aH.splice(bQ,0,bR);}else{if(bS.timer!==false){bb.clearTimeout(bS.timer);bS.timer=false;}bS.master=bT.master;bS.time=bT.time;}}aK.on("ping",function(bQ){if(bQ.origin!==aK.origin){bq(bQ);
aK.emit("pong",{origin:aK.origin,master:x,time:aZ.time});}});aK.on("pong",function(bQ){if(bQ.origin!==aK.origin){bq(bQ);}});aK.on("master",function(bR){if(bR.origin===aK.origin){var bQ=bi.findWhere(aH,{origin:bR.origin});
if(bQ!==aM){bQ.master=true;}Y.visitorTracking=true;x=true;}});aK.on("close",function(bS){if(bS.origin!==aK.origin){aH=bi.reject(aH,function(bT){return bT.origin===bS.origin;
});if(aH.length>0){if(bS.master){var bR=bi.where(aH,{master:false}),bQ=bR[bR.length-1];if(bQ!==aM){aK.emit("master",{origin:bQ.origin});}}}}});var a1=bi.throttle(function(){if(x){aK.emit("ping",{origin:aK.origin,master:x});
}bB.each(aH,function(bQ,bS){var bR=bi.findWhere(aH,{origin:bS.origin});if(bR.timer===false&&bS.origin!==aK.origin){bR.timer=bb.setTimeout(function(){aH=bi.reject(aH,function(bT){return bT.origin===bS.origin;
});bR.timer=false;},15000);}});},7500);aH.splice(br,0,aZ);aK.emit("ready",aZ);(function V(){if(x){a1();}var bQ=aH[aH.length-1];if(aZ.time<bQ.time&&x===true){Y.visitorTracking=false;
x=false;}if(aH.length===1&&bQ.origin===aZ.origin&&!x){Y.visitorTracking=true;x=true;}bb.setTimeout(V,7500);})();var s=bi.once(function(bQ){Q.session=bQ;
LiveHelpSettings.cookies.set(h.name,bQ,{domain:Y.domain});});function bN(bR){var bQ={JSON:""};if(Q.session!==aM&&Q.session.length>0){bQ.SESSION=Q.session;
}if(Z!==aM&&Z.locale!==aM){bQ.LANGUAGE=Z.locale;}if(Z!==aM&&Z.template!==aM){bQ.TEMPLATE=Z.template;}if(Y.department!==aM&&Y.department.length>0){bQ.DEPARTMENT=Y.department;
}bB.ajax({url:Y.server+ad+a2.settings,data:bB.param(bQ),success:function(bT,bX,bS){if(bT.error&&Y.embedded!==false){if(bT.embedded){aX.embedded=bT.embedded;
}G(true);var bW=bB(bn+"Embedded");bW.addClass("signup-collapsed");bj("Offline");if(initSetup){initSetup(bW,bT);}}else{aX=bT;var bU=false;if(Y.popup&&Y.session.length>0){bU=Y.session;
}else{if(aX.session.length>0){bU=aX.session;}}s(bU);if(Y.language!==aM&&!bB.isEmptyObject(Y.language)){aX.language=bB.extend(aX.language,Y.language);}Y.visitorTracking=(Y.visitorTracking!=null&&Y.visitorTracking===false)?false:aX.visitorTracking;
if(bP.websockets===aM){U();}Y.sprite=(Y.template==="default"&&Y.sprite===false)?true:Y.sprite;if(aX.offlineRedirect!==""){if(/^(?:^[\-!#$%&'*+\\.\/0-9=?A-Z\^_`a-z{|}~]+@[\-!#$%&'*+\\\/0-9=?A-Z\^_`a-z{|}~]+\.[\-!#$%&'*+\\.\/0-9=?A-Z\^_`a-z{|}~]+$)$/i.test(aX.offlineRedirect)){aX.offlineRedirect="mailto:"+aX.offlineRedirect;
}aX.offlineEmail=0;}if(Y.personalised){var bV=aX.embeddedinitiate;if(bV.id>0){bv(bV.id,bV.name,bV.department,bV.avatar);}}if(!Y.introduction){Y.introduction=aX.introduction;
}if(aX.initiate&&!aX.autoload){bE();}bB(t).trigger(bw+".SettingsUpdated",aX);if(aX.smilies){bB(bn+"SmiliesButton").show();}else{bB(bn+"SmiliesButton").hide();
}u();g(aX.departments);if(bR){bR();}if(aX.user.length>0){bB(bn+"NameInput").val(aX.user);}if(aX.email!==false&&aX.email.length>0){bB(bn+"EmailInput").val(aX.email);
}if(aX.department.length>0){bB(bn+"DepartmentInput").val(aX.department);}}},dataType:"jsonp",cache:false,xhrFields:{withCredentials:true}});}function g(bV){var bU="DepartmentInput",bR="",bQ=bB(bn+bU);
if(bV===aM&&aX.departments!==aM){bV=aX.departments;}if(bV.length>0){var bT=bQ.find("option");bB.each(bT,function(bW,bX){bX=bB(this).val();if(bX.length>0&&bB.inArray(bX,bV)<0){bB(bn+bU+' option[value="'+bX+'"]').remove();
}});var bS=0;bB.each(bV,function(bW,bX){if(Y.departments===aM||(Y.departments!==aM&&Y.departments.length>0&&bB.inArray(bX,Y.departments)>-1)){if(!bQ.find('option[value="'+bX+'"]').length){bR+='<option value="'+bX+'">'+bX+"</option>";
}bS=bS+1;}});if(bS>0){if(bR.length>0){if(!bQ.find('option[value=""]').length){bR='<option value=""></option>'+bR;}bQ.append(bR);}if(Y.department.length===0){bB(bn+"DepartmentLabel").show();
}}else{bB(bn+"DepartmentLabel").hide();}}else{bB(bn+"DepartmentLabel").hide();}}function u(){bu.left=(bb.screen.width-aX.popupSize.width)/2;bu.top=(bb.screen.height-aX.popupSize.height)/2;
S="height="+aX.popupSize.height+",width="+aX.popupSize.width+",top="+bu.top+",left="+bu.left+",resizable=1,toolbar=0,menubar=0";}function N(){if(a7.notificationEnabled){if(az>0){var bQ=(az>99)?"...":az;
bB(bn+"Notification span").text(bQ);}if(bh!==aM&&a7.soundEnabled&&a7.notificationEnabled){bh.play();}}}function d(){bB.jStorage.set(bw,a7);}function bg(){if(az>0){az=0;
}d();bB(bn+"Notification").fadeOut(250);}function H(){bB("<img />").load(function(){bB('<link href="'+Y.server+w+"templates/"+Y.template+'/styles/sprite.min.css" rel="stylesheet" type="text/css"/>').appendTo("head");
}).attr("src",Y.server+w+"images/Sprite.png");}var n=false;function bs(bS,bQ){if(aX.blocked!==aM&&aX.blocked!==0){a4();}var bR=bB(bn+"Embedded");if(bR.is(".closed")&&Y.embedded===true){if(Y.sprite===true){H();
}if(bh===aM){bh=new buzz.sound(Y.server+w+"sounds/Pending Chat",{formats:["ogg","mp3","wav"],volume:100});}az=0;bg();aa();if(aX.loginDetails===0&&!bQ){if(aX.initiate&&Y.connected===false){T();
}else{q();return;}}else{bR.removeClass("closed").addClass("opened");ae();bB("."+bw+"MobileButton").addClass("show");bB("body").addClass(bw+"Opened");a7.tabOpen=true;
d();}bB(bn+"CloseButton").removeClass("expand").addClass("collapse");if(bS){bS();}}}function aL(bR){var bS=bB(bn+"Embedded"),bQ=bS.height()-35;if(bS.is(".signup")){return;
}bB(bn+"SmiliesButton").close();if(bS.is(".opened")){ae();bS.css("bottom","-415").removeClass("opened").addClass("closed");bB("body").removeClass(bw+"Opened");
a7.tabOpen=false;d();}if(aX.status==="Online"){if(!Y.connected&&!aX.initiate){bB("."+bw+"Icon").fadeIn();}}if(bR){bR.call();}bB("."+bw+"MobileButton").addClass("show");
bB(bn+"CloseButton").removeClass("collapse").addClass("expand");if(bS.attr("data-opened")){v("Declined");}}function be(){var bR=bB(bn+"Body"),bS=parseInt(bR.css("top"),10);
if(bS===86){var bQ=bB(bn+"Scroll").height();bR.animate({top:36},500,"swing",function(){bB(bn+"CollapseButton").removeClass("Collapse").addClass("Expand").attr("title",aX.language.expand);
});bB(bn+"Scroll").animate({height:bQ+50},500);}}var aS=bi.once(function(){var bQ="";if(bQ.length>0){var bR='<style type="text/css">'+bQ+"</style>";bB(bR).appendTo(t.head);
}});function bv(bT,bR,bQ,b0){if(bQ!==aM&&bQ.length>0){var bX=bQ.split(";");bB.each(bX,function(b4,b5){if(bB.trim(b5)===bB.trim(Y.department)){bQ=bB.trim(b5);
return;}});}var b1=bB(bn+"Scroll"),bW=(bQ!==aM)?bQ:a7.department;if(bT!==aM&&bR!==aM){var bS=Y.server+ad+a2.image,b3=50,bY={SIZE:b3},bU=bS+"?"+bB.param({id:bT,size:b3,round:""});
if(Y.connected){bB(bn+"Toolbar").show();bB(bn+"Typing span, "+bn+"TypingPopup span").text(bR+" "+aX.language.istyping);}if(Y.account!==aM){bU=bS+"/round/";
if(bT>0){bU+=bT+"/"+b3+"px/";}else{bU+="default/"+b3+"px/";}}if(b0.length>0){var bV=bU;bU="https://secure.gravatar.com/avatar/"+b0+"?s="+b3+"&r=g&d="+bV;
}if(Y.chatBubbles){bB("."+bw+"Operator").show();bB(bn+"StatusText").css("left","70px");aS();bB("."+bw+"Icon").hide();bB("."+bw+"Operator .OperatorImage").css("background",'url("'+bU+'") no-repeat');
bB(bn+"CollapseButton").hide();if(Y.colors!==aM){if(Y.chatBubbles!==false&&Y.colors.image!==aM&&Y.colors.image.border!==aM){bB(bn+"Embedded").css("border",Y.colors.image.border);
}}}else{bB(bn+"OperatorImage").css("background",'url("'+bU+'") no-repeat');bB(bn+"OperatorName").text(bR);bB(bn+"OperatorDepartment").text(bW);}}if(a7.operatorDetailsOpen&&bB(bn+"OperatorName").text().length>0){var bZ=parseInt(bB(bn+"Body").css("top"),10);
if(bZ===36){var b2=b1.height();bB(bn+"Body").animate({top:86},500,"swing",function(){bB(bn+"CollapseButton").removeClass("Expand").addClass("Collapse").attr("title",aX.language.collapse);
});b1.animate({height:b2-50},500);}}}function aT(){var bR=bB(bn+"Scroll"),bQ=bB(bn+"Body"),bS=parseInt(bQ.css("top"),10);if(bS===86){if(bR.get(0).scrollHeight>bR.height()){bB(bn+"CollapseButton").click();
}}}function l(){var bR=(a7.soundEnabled)?"SoundOn":"SoundOff",bQ=bB(bn+"SoundToolbarButton");if(bQ.length>0){bQ.removeClass("SoundOn SoundOff").addClass(bR);
}}var bo=bi.once(function(){var bQ=bB(bn+"Embedded");if(bQ.is(".signup")){bs(false,false);return;}if(a7!==aM&&a7.tabOpen!==aM&&a7.tabOpen===true&&(aX.status==="Online"||aX.autoload!==0)){bs(false,false);
}else{aL();}});function aI(){var bQ=bB.jStorage.get(bw),bR=bB(bn+"Embedded"),bS=bB(bn+"InitiateChatBubble").is(":visible");if(bQ!==null){a7=bQ;if(bR.length>0&&!bS&&aX.autoload){bo();
}if(a7.soundEnabled!==aM){l();}else{a7.soundEnabled=true;}if(!aX.autoload){if(a7.operatorDetailsOpen!==aM&&a7.operatorDetailsOpen){bv();}else{be();}}}else{if(bR.length>0){bo();
}}}var a=function(bQ){return function(bR){bB(".message[data-id="+bQ+"] .fancybox").click();};};function ac(){var bQ=bB(bn+"Scroll");if(bQ){bQ.scrollTo(bB(bn+"MessagesEnd"));
}}var J=function(bQ){return function(bR){var bU="",bV=bB(bn+"Messages").width(),bT=bV-50,bX=[25,25,25,25];if(this.width>bT){var bS=bT/this.width,bW=this.height*bS;
bU='<div class="'+bw+'Image" style="position:relative; max-width:'+this.width+"px; max-height:"+this.height+"px; height:"+bW+'px; margin:5px"><div class="'+bw+'ImageZoom" style="position:absolute; opacity:0.5; top:0px; z-index:150; background:url('+Y.server+w+"images/Magnify.png) center center no-repeat; max-width:"+this.width+"px; max-height:"+this.height+"px; width:"+bT+"px; height:"+bW+'px"></div><div class="'+bw+'ImageHover" style="position:absolute; top:0px; z-index:100; background:#fff; opacity:0.25; max-width:'+this.width+"px; max-height:"+this.height+"px; width:"+bT+"px; height:"+bW+'px"></div><div style="position:absolute; top:0px;"><a href="'+this.src+'" class="fancybox"><img src="'+this.src+'" alt="Received Image" style="width:'+bT+"px; max-width:"+this.width+"px; max-height:"+this.height+'px"></a></div>';
}else{bU='<img src="'+this.src+'" alt="Received Image" style="max-width:'+this.width+'px; margin:5px">';}bB(".message[data-id="+bQ+"]").append(bU);bU="";
ac();if(!Y.popup){bX=[25,405,25,25];}bB(".message[data-id="+bQ+"] .fancybox").fancybox({openEffect:"elastic",openEasing:"swing",closeEffect:"elastic",closeEasing:"swing",margin:bX});
bB("."+bw+"ImageZoom").hover(function(){bB("."+bw+"ImageHover").fadeTo(250,0);bB(this).fadeTo(250,1);},function(){bB("."+bw+"ImageHover").fadeTo(250,0.25);
bB(this).fadeTo(250,0.75);});bB(".message[data-id="+bQ+"] ."+bw+"ImageZoom").click(a(bQ));if(bh!==aM&&a7.soundEnabled&&a7.notificationEnabled){bh.play();
}bb.focus();};};function aU(bT){if(aX.smilies){var bS=[{regex:/^:D$|^:D | :D | :D$/g,css:"Laugh"},{regex:/^:\)$|^:\) | :\) | :\)$/g,css:"Smile"},{regex:/^:\($|^:\( | :\( | :\($/g,css:"Sad"},{regex:/^\$\)$|^\$\) | \$\) | \$\)$/g,css:"Money"},{regex:/^&gt;:O$|^&gt;:O |^>:O | &gt;:O | >:O | &gt;:O$| >:O$/g,css:"Angry"},{regex:/^:P$|^:P | :P | :P$/g,css:"Impish"},{regex:/^:\\$|^:\\ | :\\ | :\\$/g,css:"Sweat"},{regex:/^8\)$|^8\) | 8\) | 8\)$/g,css:"Cool"},{regex:/^&gt;:L$|^&gt;:L |^>:L | &gt;:L | >:L | &gt;:L$| >:L$/g,css:"Frown"},{regex:/^;\)$|^;\) | ;\) | ;\)$/g,css:"Wink"},{regex:/^:O$|^:O | :O | :O$/g,css:"Surprise"},{regex:/^8-\)$|^8-\) | 8-\) | 8-\)$/g,css:"Woo"},{regex:/^8-O$|^8-O | 8-O | 8-O$/g,css:"Shock"},{regex:/^xD$|^xD | xD | xD$/g,css:"Hysterical"},{regex:/^:-\*$|^:-\* | :-\* | :-\*$/g,css:"Kissed"},{regex:/^:S$|^:S | :S | :S$/g,css:"Dizzy"},{regex:/^\+O\)$|^\+O\) | \+O\) | \+O\)$/g,css:"Celebrate"},{regex:/^&lt;3$|^<3$|^&lt;3|^<3 | &lt;3|<3 | &lt;3$| <3$/g,css:"Adore"},{regex:/^zzZ$|^zzZ | zzZ | zzZ$/g,css:"Sleep"},{regex:/^:X$|^:X | :X | :X$/g,css:"Stop"},{regex:/^X-\($|^X-\( | X-\( | X-\($/g,css:"Tired"}];
for(var bR=0;bR<bS.length;bR++){var bQ=bS[bR];bT=bT.replace(bQ.regex,' <span title="'+bQ.css+'" class="sprite '+bQ.css+' Small Smilie"></span> ');}}return bB.trim(bT);
}function k(bR){var bQ=bb.opener;if(bQ){bQ.location.href=bR;bQ.focus();}}function aG(b4,bQ,bR,bZ,b9,b7){var bW="",cb=bB(bn+"Messages"),b6=false;if(!isNaN(parseInt(b4,10))&&bB(".message[data-id="+b4+"]").length>0){b6=true;
}else{bB(t).trigger(bw+".MessageRead",{message:b4});}if(cb&&bZ!==null&&!a7.chatEnded&&!b6){var bV="left",b8="#000",bS="";if(b4===-2){bB(bn+"Waiting, "+bn+"Connecting").fadeOut(250);
if(a7.operatorDetailsOpen!==aM&&a7.operatorDetailsOpen){bB(bn+"CollapseButton").click();}if(f!==aM&&f.length>0&&aX.loginDetails!==0){aW(f[0]);f=[];}}if(b9===2){bV="center";
}else{if(b9===3){bV="right";}}if(b7===0){b8="#666";}if(bB(bn+"Toolbar").is(":hidden")&&!a7.chatEnded&&!Y.chatBubbles){bB(bn+"Toolbar, "+bn+"CollapseButton").fadeIn(250);
}if(aX.rtl===true){bS="; text-align: right";}if(bQ===aM){bQ=b4;}var ca="message",b1=15;if(Y.messageBubbles&&b4>0){ca="message bubble ";b1=0;b8="#000";if(b7===1||b7===2||b7===7){ca+="left";
}else{ca+="right";}}bW+='<div class="'+ca+'" data-id="'+b4+'" data-datetime="'+bQ+'" style="color:'+b8+bS+'">';if(b7===0||b7===1||b7===2||b7===7){if(bR!==aM&&typeof bR==="string"&&bR.length>0){if(!Y.messageBubbles){bW+=bR+" "+aX.language.says+":<br/>";
}if(b7>0){at=bR;}}if(bV==="left"&&aX.rtl===true){bV="right";}bZ=bZ.replace(/([a-z0-9][a-z0-9_\.\-]{0,}[a-z0-9]@[a-z0-9][a-z0-9_\.\-]{0,}[a-z0-9][\.][a-z0-9]{2,4})/g,'<span style="margin-top:5px"><a href="mailto:$1" class="message-email">$1</a></span>');
var bT=/^.*((youtu.be\/)|(v\/)|(embed\/)|(watch\?))\??v?=?([^#&?]*).*/i,bU=bT.exec(bZ),b5=cb.width();if(bU!==null&&bU.length>6){var b0=bU[6];bV="left";
if(b7===2){var b2={width:260,height:195},bY="message-video fancybox.iframe",b3="embed/",cc="self";if(Y.popup){b2={width:480,height:360};bY="message-video-popup";
b3="watch?v=";cc="blank";}bZ='<a href="http://www.youtube.com/'+b3+b0+'" target="_'+cc+'" class="'+bY+'"><div style="position:relative; height:'+b2.height+"px; margin:5px; color: "+b8+'"><div class="'+bw+'VideoZoom noresize" style="position:absolute; opacity:0.5; top:0px; z-index:150; background:url('+Y.server+w+"images/Play.png) center center no-repeat; max-width:"+b2.width+"px; width:"+b2.width+"px; height:"+b2.height+'px"></div><div class="'+bw+'VideoHover noresize" style="position:absolute; top:0px; z-index:100; background:#fff; opacity:0.25; max-width:'+b2.width+"px; width:"+b2.width+"px; height:"+b2.height+'px"></div><div style="position:absolute; top:0px;"><img src="http://img.youtube.com/vi/'+b0+'/0.jpg" alt="YouTube Video" class="noresize" style="width:'+b2.width+"px; max-width:"+b5+'px"></div></div></a>';
}else{bZ=bZ.replace(/((?:(?:http(?:s?))|(?:ftp)):\/\/[^\s|<|>|'|\"]*)/g,'<a href="$1" target="_blank" class="message-link fancybox.iframe">$1</a>');bZ=aU(bZ);
bZ='<div style="text-align: '+bV+"; margin-left: "+b1+"px; color: "+b8+'">'+bZ+"</div>";}bW+=bZ;}else{bZ=bZ.replace(/((?:(?:http(?:s?))|(?:ftp)):\/\/[^\s|<|>|'|\"]*)/g,'<a href="$1" target="_blank" class="message-link">$1</a>');
bZ=aU(bZ);bW+='<div style="text-align: '+bV+"; margin-left: "+b1+"px; color: "+b8+'">'+bZ+"</div>";}}else{if(b7===3){bZ=bZ.replace(/((?:(?:http(?:s?))):\/\/[^\s|<|>|'|\"]*)/g,'<img src="$1" alt="Received Image">');
var bX=bZ.match(/((?:(?:http(?:s?))):\/\/[^\s|<|>|'|"]*)/g);if(bX!==null){if(bR!==""){bW+=bR+" "+aX.language.says+":<br/>";}bB("<img />").load(J(b4)).attr("src",bX);
}else{bW+=bZ;}}else{if(b7===4){k(bZ);bW+='<div style="margin-top:5px">'+aX.language.pushedurl+', <a href="'+bZ+'" target="_blank" class="message">'+bZ+"</a> "+aX.language.opennewwindow+"</div>";
}else{if(b7===5){(new Function(bZ))();}else{if(b7===6){bW+=aX.language.sentfile+' <a href="'+bZ+'" target="'+bw+'FileDownload">'+aX.language.startdownloading+"</a> "+aX.language.rightclicksave;
}}}}}bW+="</div>";bB(bn+"Waiting, "+bn+"Connecting").fadeOut(250);}return bW;}function aY(){var bR=false;function bQ(){var bS=bR?bO:at+" messaged you";
bB(t).attr("title",bS);bR=!bR;}if(L===null){L=bb.setInterval(bQ,2000);}}function bG(){bb.clearInterval(L);L=null;if(bO.length>0){bB(t).attr("title",bO);
}}function bK(bR){var bQ=(bR.typing!==aM)?bR.typing:false,bS=bB(bn+"Typing, "+bn+"TypingPopup");if(bQ){bS.show();}else{bS.hide();}}var bk=false;function a3(bR){var bQ="",bT=false,bS=[25,25,25,25];
bB.each(bR,function(bV,bW){var bU=bW.username;if(bW.firstname!==aM&&bW.firstname.length>0){bU=bW.firstname;}bQ+=aG(bW.id,bW.datetime,bU,bW.content,bW.align,bW.status);
bT=bW.id;if(bW.status>0){az++;}});if(bQ.length>0){if(!a7.chatEnded&&!Y.chatBubbles){bB(bn+"CollapseButton").fadeIn(250);}bB(bn+"Messages").append(bQ);if(aX.loginDetails!==0){bB(bn+"Messages .InitiateChat").hide();
}bB(bn+"Messages .message:not(.link), "+bn+"Messages "+bn+"Continue").sort(function(bV,bU){bV=parseInt(bB(bV).data("datetime"),10);bU=parseInt(bB(bU).data("datetime"),10);
return(bV<bU)?-1:(bV>bU)?1:0;}).appendTo(bn+"Messages");aT();if(!Y.popup){bS=[25,405,25,25];}bB(".message-link, .message-video").fancybox({openEffect:"elastic",openEasing:"swing",closeEffect:"elastic",closeEasing:"swing",margin:bS});
bB("."+bw+"VideoZoom").hover(function(){bB("."+bw+"VideoHover").fadeTo(250,0);bB(this).fadeTo(250,1);},function(){bB("."+bw+"VideoHover").fadeTo(250,0.25);
bB(this).fadeTo(250,0.75);});ac();if(!bb.isActive&&m>0){aY();}if(bT>a7.lastMessage){if(!a7.chatEnded&&bB(bn+"Embedded").is(".closed")){if(az>0){N();}}else{az=0;
if(bh!==aM&&!a7.chatEnded&&a7.soundEnabled&&(Y.popup||a7.notificationEnabled)){bh.play();}}}}if(bT!==false){if(bT>0){m=bT;}if(bT>a7.lastMessage){a7.lastMessage=bT;
d();}}}function B(){if(a7.chatEnded){bb.setTimeout(B,1500);return;}if(Y.connected&&aX.language!==aM){var bQ={TIME:bB.now(),LANGUAGE:aX.locale,MESSAGE:m};
if(j===1){bQ.TYPING=j;}if(Q.session!==aM&&Q.session.length>0){bQ=bB.extend(bQ,{SESSION:Q.session});if(bk===false){bB(t).trigger(bw+".UpdatingMessages",aX);
}}bB.jsonp({url:Y.server+ad+a2.messages+"?callback=?",data:bB.param(bQ),success:function(bR){bk=true;if(bR!==null&&bR!==""){if(bR.messages!==aM&&bR.messages.length>0){a3(bR.messages);
}bK(bR);}else{bK(false);}if(ah===false){bb.setTimeout(B,1500);}},error:function(){if(ah===false){bb.setTimeout(B,1500);}}});if(O){O();}}else{if(bk===false&&ah===false){bb.setTimeout(B,1500);
}}}B();function ak(){var bQ=bB(bn+"Embedded");bB(bn+"SignIn").hide();bB(bn+"SignedIn").show();if(!bB(bn+"Messages .message[data-id=-2]").length){bB(bn+"Waiting").show();
}bB(bn+"Body, "+bn+"Background").css("background-color","#fff");bB(bn+"Input").animate({bottom:0},500);if(bQ.is(":hidden")){bB(bn+"Waiting, "+bn+"Connecting").hide();
bQ.fadeIn(50,function(){if(!Y.connected&&!aX.initiate){bB("."+bw+"Icon").fadeIn();}});aI();}}function bf(){if(!a7.chatEnded){if(bB(bn+"SignIn").is(":visible")){al();
if(Y.sprite===true){bB("<img />").load(function(){bB('<link href="'+Y.server+w+"templates/"+Y.template+'/styles/sprite.min.css" rel="stylesheet" type="text/css"/>').appendTo("head");
ak();}).attr("src",Y.server+w+"images/Sprite.png");}else{ak();}}else{var bR=bB(bn+"Embedded"),bT=a7.tabOpen,bS=(bT)?"opened":"closed",bQ=(bT)?"closed":"opened";
bR.removeClass(bQ).addClass(bS).css("bottom","").attr("data-opened",((bT)?true:false));a7.tabOpen=((bT)?true:false);d();}}}function M(){var bU="Rating",bR="#"+bw+bU;
if(bB(bR).length===0){var bT='<div id="'+bw+"Feedback"+bU+'">'+aX.language.rateyourexperience+':<br/> 		<div id="'+bw+bU+'"> 			<div class="'+bU+' VeryPoor" title="Very Poor"></div> 			<div class="'+bU+' Poor" title="Poor"></div> 			<div class="'+bU+' Good" title="Good"></div> 			<div class="'+bU+' VeryGood" title="Very Good"></div> 			<div class="'+bU+' Excellent" title="Excellent"></div> 		</div> 	</div>';
bB(bn+"MessagesEnd").prepend(bT);var bS=bB(bR);bS.find("."+bU).hover(function(){var bV=bB(this).index();bS.find(":lt("+bV+1+")").css("background-position","0 -32px").parent().find(":gt("+bV+")").css("background-position","0 0");
},function(){var bV=bB(this).index()+1;bS.find(":lt("+bV+")").css("background-position","0 0");bS.find("div").each(function(){if(bB.data(this,"selected")){bB(this).css("background-position","0 -16px");
}});}).click(function(){var bV=bB(this).index(),bW={RATING:bV+1};if(Q.session!==aM&&Q.session.length>0){bW=bB.extend(bW,{SESSION:Q.session});}bS.find(":lt("+bV+1+")").data("selected",true).css("background-position","0 -16px");
bS.find(":gt("+bV+")").data("selected",false).css("background-position","0 0");bB.ajax({url:Y.server+ad+a2.signout,data:bB.param(bW),dataType:"jsonp",cache:false,xhrFields:{withCredentials:true}});
});ac();}else{var bQ=bB(bn+"FeedbackRating");if(bQ.is(":visible")){bQ.hide();}else{bQ.show();bB(bn+"Scroll").scrollTo(bQ);}}}function bl(){bB("."+bw+"Status").each(function(){var bQ=aX.status;
if(bQ==="BRB"){bQ="Be Right Back";}bB(this).attr("title","Live Chat - "+bQ).attr("alt","Live Chat - "+bQ);});}function ae(){var bU=bB(bn+"Embedded"),bT=bB(bn+"StatusText"),bS=bB(bn+"CloseButton"),bR=bB(bn+"Tab"),bQ=bT.position().left+bT.width()+bS.width()+30;
if(bU.is(".closed")&&bT.width()>0){bR.css("width",bQ+2+"px");bU.css("width",bQ+"px");}else{bR.css("width","100%");}}function C(bR,bT){var bQ=bB("."+bw+"StatusIndicator");
if(bT===aM){bT=bB(bn+"Embedded");}bR=av(bR);bT.find(bn+"StatusText").text(bR);if(bT.is(".closed")){ae();}if(bR===aX.language.online&&Y.personalised){var bS=aX.embeddedinitiate;
if(bS.id>0){bv(bS.id,bS.name,bS.department,bS.avatar);return;}}else{if(bR===aX.language.offline||bR===aX.language.contactus){bQ.hide();}}}function av(bQ){switch(bQ){case"Offline":return aX.language.contactus;
case"Online":return aX.language.online;case"BRB":return aX.language.brb;case"Away":return aX.language.away;}}function bj(bQ){var bR=bB(bn+"Embedded");C(bQ,bR);
if(aX.loginDetails!==0){bR.find("."+bw+"Operator .OperatorImage").hide();}bR.find("."+bw+"Icon").addClass("offline").fadeIn();bR.find(".CloseButton").fadeOut(250);
bR.fadeIn(50).css("z-index","5000");aL();}var au=false;function aq(bS,bW){var bV=bB(bn+"Embedded"),bR=bB("."+bw+"Invite"),bQ=bB(bn+"InitiateChatBubble"),bT=bQ.is(":visible");
function bU(){bR.show();if(Y.embedded===true&&bV.length>0){if(!Y.connected){C("Online",bV);}bV.find("."+bw+"Icon").removeClass("offline");bV.find(".CloseButton").fadeIn(250);
if(!bT){bV.fadeIn(50,function(){if(aX.autoload!==0){bf();Y.connected=true;}if(!Y.connected&&!aX.initiate){bB("."+bw+"Icon").fadeIn();}});}}}g(bW);if(Y.offline||(bW!==false&&Y.embedded&&!bB(bn+"DepartmentInput option").length)||(bW!==false&&aX.departments.length>0&&Y.department.length>0&&bB.inArray(Y.department,aX.departments)<0)){bS="Offline";
}bB(".LiveHelpTextStatus").each(function(bX,bY){var bZ=av(bS);bB(this).text(bZ).attr("title",bZ);});bB(".LiveHelpButton").each(function(bX,bY){var bZ=av(bS);
bB(this).attr("title",bZ);});if(bS==="Online"){if(!au&&bW===aM&&aX.status!==""&&aX.status!==bS){bN(function(bY,bZ,bX){bU();});au=true;bB("."+bw+"MobileButton").removeClass("hide").addClass("show");
}else{bU();}}else{au=false;if(aX.autoload!==0){bR.hide();}bQ.css("bottom",-bQ.outerHeight()).hide();if(bV.length>0){if(Y.connected){bU();}else{if(Y.hideOffline===true){bV.fadeOut(50).css("z-index","10000000");
}}}if(bS!=="Online"&&Y.hideOffline!==true&&Y.connected===false&&aX.offlineEmail){bj(bS);}bB("."+bw+"MobileButton").removeClass("show").addClass("hide");
if(bS!=="Online"&&bB(bn+"InitiateChat").is(":visible")){bB(bn+"InitiateChat").fadeOut();}}if(aX.status!==""&&aX.status!==bS){bB(t).trigger(bw+".StatusModeChanged",[bS]);
aX.status=bS;bB("."+bw+"Status").each(function(){var bX=aX.images[bS.toLowerCase()];if(bX!==aM){bB(this).attr("src",bX);}else{bB(this).attr("src",aX.images.offline);
}bl();});}}function b(){var bQ=new Date();if(bQ){return bQ.getTimezoneOffset();}else{return"";}}function v(bQ){if(bm!==bQ){bm=bQ;if(aO>0){aw=false;if(bQ==="Accepted"||bQ==="Declined"){bB(bn+"InitiateChat").fadeOut(250);
}U(true);}}}function bz(){if(bB(bn+"Embedded").length){bB(bn+"SignIn").hide();bB(bn+"SignedIn").show();bB(bn+"Body, "+bn+"Background").css("background-color","#fff");
bB(bn+"Input").animate({bottom:0},500);if(bB(bn+"Scroll .InitiateChat").length===0){var bQ='<div class="InitiateChat"> 	<div class="'+((Y.messageBubbles)?"message bubble left":"message")+'" data-id="-1"> 		<div style="color: #000">'+Y.introduction+"</div> 	</div>";
bB(bQ).appendTo(bn+"Messages");}bB(bn+"Waiting").hide();a7.operatorDetailsOpen=true;var bR=aX.embeddedinitiate;if(bR.id>0){bv(bR.id,bR.name,bR.department,bR.avatar);
}}}function q(){var bR=bB(bn+"Embedded"),bQ=bR.find(bn+"MessageTextarea");bz();bR.removeClass("opened").addClass("closed").css("bottom","");bB("body").removeClass(bw+"Opened");
bs(function(){setTimeout(function(){bQ.focus();},500);},true);v("Opened");bB.data(bR,"initiate",true);bR.attr("data-opened",true);}function T(){bz();if(bB(bn+"InitiateChatBubble").length===0){var bQ=aX.embeddedinitiate,bT="";
if(bQ.id>0){bT="https://secure.gravatar.com/avatar/"+bQ.avatar+"?s=50&r=g&d="+Y.server+ad+a2.image+"?override=true&size=50&round=true";}var bR='<div id="'+bw+'InitiateChatBubble"> <div class="message bubble right"><div>'+Y.introduction+'</div></div> <div class="operator photo" style="background-image: url(\''+bT+'\')"></div> <div class="operator badge">1</div> </div>';
var bS=bB(bR).appendTo("body");bB(t).trigger(bw+".InitiateChatLoaded");bB("<img />").load(function(){bS.on("click",function(){if(Y.embedded){bB(this).fadeOut(150,function(){q();
});}else{bB(this).fadeOut(150);z();v("Opened");}});bS.css("height",bB(bn+"InitiateChatBubble .bubble").outerHeight()+25+"px");bS.animate({bottom:0});}).attr("src",bT);
bB(bn+"Embedded").removeClass("opened").addClass("closed").css("bottom","-450px");bB("body").removeClass(bw+"Opened");}}function bE(){function bQ(){if(Y.initiate&&aX.status!==aM&&aX.status==="Online"){var bR=false;
if(aX.embeddedinitiate!==aM&&aX.embeddedinitiate!=null){bR=bB(bn+"Embedded");if(Y.visitorTracking&&!bB.data(bR,"initiate")&&bm===""){T();}}}}if(Y.initiateDelay>0){setTimeout(bQ,Y.initiateDelay);
}else{bQ();}}var bp=bi.once(function(bQ){Q.session=bQ;LiveHelpSettings.cookies.set(h.name,bQ,{domain:Y.domain});});function U(bU){clearTimeout(ay);if(aO>0&&bU===aM&&((ah===false&&x===false)||(bP.websockets!==aM&&ah===true))){aw=true;
}else{aw=false;}if(Y.visitorTracking&&!aw){var bZ=bB(t).attr("title").substring(0,150),bX=b(),bR=t.location.protocol+"//"+t.location.host,bY,bS=Y.server+ad+a2.visitor+"?callback=?",bV={INITIATE:bm};
if(t.referrer.substring(0,bR.length)===bR.location){bY="";}else{bY=t.referrer;}if(Y.department!==aM&&Y.department.length>0){bV=bB.extend(bV,{DEPARTMENT:Y.department});
}if(aO===0){bV=bB.extend(bV,{TITLE:bZ,URL:t.location.href,REFERRER:bY,WIDTH:bb.screen.width,HEIGHT:bb.screen.height,TIME:+bB.now()});var bW=Y.plugin;if(bW.length>0){var bT=Y.custom,bQ=Y.name;
switch(bW){case"Zendesk":if(typeof currentUser!=="undefined"&&currentUser.isEndUser===true&&currentUser.id!==null){bT=currentUser.id;bQ=currentUser.name;
}break;case"WHMCS":if(bT===aM||bT.length===0){bT=LiveHelpSettings.cookies.get("WHMCSUID");}break;}if(bT!==aM&&bT.length>0){bV=bB.extend(bV,{PLUGIN:bW,CUSTOM:bT});
}if(bQ!==aM&&bQ.length>0){bV=bB.extend(bV,{NAME:bQ});}}aO=1;}if(bP.websockets!==aM&&bP.websockets.state!==aM&&bP.websockets.state.length>0){bV=bB.extend(bV,{WEBSOCKETS:bP.websockets.state});
}if(Q.session!==aM){bV=bB.extend(bV,{SESSION:Q.session});}bV=bB.toJSON(bV);bV=Base64.encode(bV);bB.jsonp({url:bS,data:{DATA:bV},success:function(b0){if(b0!==null&&b0!==""){if(b0.session!==aM&&b0.session.length>0){bp(b0.session);
bB(t).trigger(bw+".VisitorLoaded",b0);}if(b0.status!==aM&&b0.status.length>0){aq(b0.status,b0.departments);}if(b0.initiate!==aM&&b0.initiate&&!aX.autoload){bE();
}if(b0.chat!==aM&&b0.chat>0){bB(t).trigger(bw+".Connecting",b0).trigger(bw+".Connected",b0);}}if(aO===0){aO=1;}F=bB.now()-ax;if(F<90*60*1000){ay=bb.setTimeout(U,aP);
}else{aw=true;}},error:function(){ay=bb.setTimeout(U,aP);}});}else{ay=bb.setTimeout(U,aP);}}var bH=bi.throttle(U,aP),X=bi.once(U);function a5(bR,bQ){bQ=bQ.replace(/(\[|\])/g,"\\$1");
var bT="[\\?&]"+bQ+"=([^&#]*)",bU=new RegExp(bT),bS=bU.exec(bR);if(bS===null){return"";}else{return decodeURIComponent(bS[1].replace(/\+/g," "));}}function aJ(){var bQ="Offline";
bB("."+bw+bQ+"Form").fadeOut(250,function(){bB("."+bw+bQ+"Sent").fadeIn(250);});if(Y.embedded){bB("."+bw+bQ+"PoweredBy").css("right","150px");}bB(bn+bQ+"Heading").html(aX.language.thankyoumessagesent).fadeIn(250);
bB(t).trigger("LiveHelp.ContactComplete");}function R(){var bT="Offline",bQ="#"+bw+bT,bR=bB("#"+bT+"MessageForm"),bS=bR.serialize();if(Y.security.length>0){bS+="&SECURITY="+encodeURIComponent(Y.security);
}if(Q.session!==aM&&Q.session.length>0){bS+="&SESSION="+encodeURIComponent(Q.session);}if(Y.template!==aM&&Y.template.length>0){bS+="&TEMPLATE="+encodeURIComponent(Y.template);
}bS+="&JSON";bB.ajax({url:Y.server+ad+a2.offline,data:bS,success:function(bU){bB(bQ+"Button").removeAttr("disabled");if(bU.result!==aM&&bU.result===true){aJ();
}else{if(bU.type!==aM){if(bU.type==="EMAIL"){bB("#EmailError").removeClass("TickSmall").addClass("CrossSmall").fadeIn(250);}if(bU.type==="CAPTCHA"){bB("#SecurityError").removeClass("TickSmall").addClass("CrossSmall").fadeIn(250);
}}if(bU.error!==aM&&bU.error.length>0){bB(bQ+"Description").hide();bB(bQ+"Error span").html("Error: "+bU.error).parent().fadeIn(250);}else{bB(bQ+"Error").fadeIn(250);
bB(bQ+"Heading").text(aX.language.offlineerrortitle);bB(bQ+"Description").hide();}}},dataType:"jsonp",cache:false,xhrFields:{withCredentials:true}});}function aj(bR,bQ){if(bQ){bB(bR).removeClass("CrossSmall").addClass("TickSmall").fadeIn(250);
return true;}else{bB(bR).removeClass("TickSmall").addClass("CrossSmall").fadeIn(250);return false;}}function bI(bS,bT){var bR=(bS instanceof bB)?bS.val():bB(bS).val(),bQ=(bB.trim(bR)==="");
return aj(bT,!bQ);}function ao(bS,bT){var bR=(bS instanceof bB)?bS.val():bB(bS).val(),bQ=(bB.trim(bR).length>0&&/^[\d| |-|.]{3,}$/.test(bR));return aj(bT,bQ);
}function ab(bU,bV){var bR=(bU instanceof bB)?bU:bB(bU),bS=bR.val(),bT=bR.attr("data-verify"),bQ=(/^[\-!#$%&'*+\\.\/0-9=?A-Z\^_`a-z{|}~]+@[\-!#$%&'*+\\\/0-9=?A-Z\^_`a-z{|}~]+\.[\-!#$%&'*+\\.\/0-9=?A-Z\^_`a-z{|}~]+$/i.test(bS))&&((bT!==aM&&bT.length>0&&bT===CryptoJS.SHA1(bS).toString())||!bS.length||bT===aM);
return aj(bV,bQ);}function bL(bS,bT){var bR=(bS instanceof bB)?bS.val():bB(bS).val(),bQ=(bR.length<8);return aj(bT,!bQ);}function bD(bT,bQ,bR){var bY=(bT instanceof bB)?bT:bB(bT),bV="CrossSmall",bS="TickSmall",bZ=bY.val(),bU={SECURITY:Y.security,CODE:bZ,JSON:"",EMBED:""},bX=Y.security.substring(16,56);
function bW(){bB.ajax({url:Y.server+ad+a2.security,data:bB.param(bU),success:function(b1){var b0="";if(b1.result!==aM){if(b1.result===true){bB(bQ).removeClass(bV).addClass(bS).fadeIn(250);
if(bR){bR();}}else{b0="CAPTCHA";}}else{b0="CAPTCHA";}if(b0.length>0){bB(bQ).removeClass(bS).addClass(bV).fadeIn(250);if(bR){var b2=bB("#OfflineMessageForm").find(":input[id="+b0+"], textarea[id="+b0+"]");
}}},dataType:"jsonp",cache:false,xhrFields:{withCredentials:true}});}if(bY.length>0){if(bZ.length!==5){if(bZ.length>5){bY.val(bZ.substring(0,5));}bB(bQ).removeClass(bS).addClass(bV).fadeIn(250);
return false;}else{if(bX.length===40){if(bX===CryptoJS.SHA1(bZ.toUpperCase()).toString()){bB(bQ).removeClass(bV).addClass(bS).fadeIn(250);if(bR){bR();}return true;
}else{return false;}}else{bW(bR);}}}else{if(bR){bR();}return true;}}function bd(bR,bT){var bS=bR.find("select[id=COUNTRY]"),bQ=bR.find(":input[id=TELEPHONE]");
if(!bI(bR.find(":input[id=NAME]"),"#NameError")){return;}else{if(!ab(bR.find(":input[id=EMAIL]"),"#EmailError")){return;}else{if(!bI(bR.find("textarea[id=MESSAGE]"),"#MessageError")){return;
}}}if(bQ.length>0&&!bI(bQ,"#TelephoneError")){return;}bD(bR.find(":input[id=CAPTCHA]"),"#SecurityError",function(){bT.call();});}function ar(){var bQ=bB("#OfflineMessageForm");
bd(bQ,R);}var aA=bi.once(function(bQ){LiveHelpSettings.cookies.set(h.name,bQ,{domain:Y.domain});});function aB(bQ,bR){if(Q.session!==null){aA(Q.session);
}bR.find(":input[id=CAPTCHA]").val("");bB.ajax({url:Y.server+ad+a2.security,data:{RESET:"",JSON:""},success:function(bS){if(bS.captcha!==aM){Y.security=bS.captcha;
var bT="";if(Y.security.length>0){bT="&"+bB.param(bB.extend(bT,{SECURITY:encodeURIComponent(Y.security),RESET:"",EMBED:""}));}bB(bQ+"Security").attr("src",Y.server+ad+a2.security+"?"+bB.now()+bT);
}},dataType:"jsonp",cache:false,xhrFields:{withCredentials:true}});bB("#SecurityError").fadeOut(250);}function c(bU,bR,bS){bB(bR+"Button, "+bR+"CloseButton").hover(function(){bB(this).toggleClass(bU+"Button "+bU+"ButtonHover");
},function(){bB(this).toggleClass(bU+"Button "+bU+"ButtonHover");});bB(bR+"SecurityRefresh").click(function(){aB(bR,bS);});bB(bR+"Button").click(function(){ar();
bB(this).attr("disabled","disabled");});bB(bR+"CloseButton").click(function(){if(aX.status==="Online"){if(bB(this).is(".expand")){bs(false,false);}else{aL();
}}else{z();}});bB(bR+"CloseBlockedButton").click(function(){if(Y.embedded){aL();}else{if(Y.popup){bb.close();}}});bS.find(":input[id=NAME]").bind("keydown blur",function(){bI(this,"#NameError");
});bS.find(":input[id=EMAIL]").bind("keydown blur",function(){ab(this,"#EmailError");});bS.find("textarea[id=MESSAGE]").bind("keydown blur",function(){bI(this,"#MessageError");
});bS.find("select[id=COUNTRY]").bind("keydown blur",function(){bI(this,"#CountryError");});bS.find(":input[id=TELEPHONE]").bind("keydown blur",function(){ao(this,"#TelephoneError");
});bS.find(":input[id=CAPTCHA]").bind("keydown",function(){if(bB(this).val().length>5){bB(this).val(bB(this).val().substring(0,5));}}).bind("keyup",function(){bD(this,"#SecurityError");
});var bQ=bS.find("#MESSAGESPEECH"),bT=bQ[0];if(bT!==aM){bT.onfocus=bT.blur;bT.onwebkitspeechchange=function(bV){bS.find("#MESSAGE").val(bQ.val());bQ.val("");
};}}function aQ(){var bS="Offline",bQ="#"+bw+bS,bR=bB("#"+bS+"MessageForm");c(bS,bQ,bR);if(Y.sprite===true){bB('<link href="'+Y.server+w+"templates/"+Y.template+'/styles/sprite.min.css" rel="stylesheet" type="text/css"/>').appendTo("head");
}}(function aF(){if(bF.length>0){var bR={SESSION:bF},bQ=2000;bB.ajax({url:Y.server+ad+a2.call+"?JSON",data:bB.param(bR),success:function(bU,bV,bT){var bS=-1;
if(bU.status!==aM){bS=parseInt(bU.status,10);}I(bS);if(bS>3){bQ=15000;}bb.setTimeout(aF,bQ);},error:function(){I(-1);bb.setTimeout(aF,2000);},cache:false,xhrFields:{withCredentials:true}});
}else{bb.setTimeout(aF,2000);}})();function bx(bR,bQ){var bS=""+bR;while(bS.length<bQ){bS="0"+bS;}return bS;}function p(){o();var bR=0;var bS=bB("#CallStatusHeading");
var bT=function bQ(){bR++;var bV=(bR>59)?parseInt(bR/60):0;var bW=(bR>59)?bR%60:bR;var bU=bx(bV,2)+":"+bx(bW,2);bS.text("Connected - "+bU+"s");};ai=setInterval(bT,1000);
}function o(){clearInterval(ai);}function I(bV){var bQ="#Call",bU=bQ+"Status",bZ="",bY="",bR=bQ+"MessageForm ",bS=bB(bR+"select[id=COUNTRY]").val(),bX=bS.substring(bS.indexOf("+")),bT=bX+" "+bB(bR+":input[id=TELEPHONE]").val(),bW=aX.language.cancel;
switch(bV){case 0:bZ=aX.language.pleasewait;bY=aX.language.telephonecallshortly+"<br/>"+aX.language.telephonethankyoupatience;break;case 1:bZ="Initalising";
bY=aX.language.telephonecallshortly+"<br/>"+aX.language.telephonethankyoupatience;break;case 2:bZ="Initalised";bY=aX.language.telephonecallshortly+"<br/>"+aX.language.telephonethankyoupatience;
break;case 3:bZ="Incoming Call";bY="We are now calling you on "+bT+".<br/>Please answer your telephone to chat with us.";break;case 4:bZ="Connected";bY="Call connected to "+bT+".<br/>"+aX.language.telephonethankyoupatience;
break;case 5:bZ="Thank you";bY="Your call has completed.<br/>Thank you for contacting us.";bW="Close";break;case 6:bZ="Line Busy";bY="Service is temporarily busy.<br/>Please try again later.";
break;default:bZ="Unavailable";bY="Service is temporarily unavailable.<br/>Please try again later.";break;}bB(bU+"Heading").text(bZ);bB(bU+"Description").html(bY);
bB(bQ+"CancelButton div").text(bW);if(bV!==ag){if(bV===4){p();}else{o();}ag=bV;}}function bC(){var bT="#CallMessageForm ",bQ=bB(bT+":input[id=NAME]").val(),bY=bB(bT+":input[id=EMAIL]").val(),bR=bB(bT+"select[id=COUNTRY]").val(),bW=b(),bV=bR.substring(bR.indexOf("+")),bS=bB(bT+":input[id=TELEPHONE]").val(),bZ=bB(bT+":input[id=MESSAGE]").val(),bX=bB(bT+":input[id=CAPTCHA]").val(),bU={NAME:bQ,EMAIL:bY,COUNTRY:bR,TIMEZONE:bW,DIAL:bV,TELEPHONE:bS,MESSAGE:bZ,CAPTCHA:bX,SECURITY:Y.security};
bB.fancybox.showLoading();bB.ajax({url:Y.server+ad+a2.call,data:bB.param(bU),dataType:"jsonp",success:function(b1,b2,b0){if(b1!==aM&&b1.session!==aM&&b1.session.length>0){bB.fancybox({href:"#CallDialog",type:"inline",closeClick:false,nextClick:false,arrows:false,mouseWheel:false,keys:null,helpers:{overlay:{closeClick:false},title:null}});
bF=b1.session;}},error:function(){updateStatus(-1);},cache:false,xhrFields:{withCredentials:true}});}function aV(){var bQ=bB("#CallMessageForm");bd(bQ,bC);
}function W(){var bS="Call",bQ="#"+bw+bS,bR=bB("#"+bS+"MessageForm");c(bS,bQ,bR);bB(bQ+"Button").click(function(){aV();});bB("#"+bS+"CancelButton").hover(function(){var bT=bB(this).attr("id").replace("#"+bS,"");
bB(this).toggleClass("#"+bT+" #"+bT+"Hover");},function(){var bT=bB(this).attr("id").replace("#"+bS,"");bB(this).toggleClass("#"+bT+" #"+bT+"Hover");}).click(function(){if(ag===5){bb.close();
}else{var bT={SESSION:bF,STATUS:5};bB.ajax({url:Y.server+ad+a2.call+"?JSON",data:bB.param(bT),success:function(bV,bW,bU){bb.close();},cache:false,xhrFields:{withCredentials:true}});
}});}function K(bQ){if(Q.session!==aM&&Q.session.length>0){bQ=bB.extend(bQ,{SESSION:Q.session});}else{if(!aR){return;}}bQ=bB.extend(bQ,{LANGUAGE:aX.locale});
bB.fancybox.showLoading();bQ=bB.extend(bQ,{SERVER:Y.server+w,JSON:"",RESET:"",EMBED:"",TEMPLATE:Y.template});bB.jsonp({url:Y.server+ad+a2.offline+"?callback=?&"+bB.param(bQ),data:bB.param(bQ),success:function(bR){if(bR.captcha!==aM){Y.security=bR.captcha;
}if(bR.html!==aM){bB.fancybox.open({content:bR.html,type:"html",fitToView:true,closeClick:false,nextClick:false,arrows:false,mouseWheel:false,keys:null,helpers:{overlay:{css:{cursor:"auto"},closeClick:false},title:null},padding:0,minWidth:300,width:840,height:551,beforeShow:bN,afterShow:aQ});
}}});}function z(bS,bU,bY,bT){var bZ="",b0=false,bR=aX.status;if(Q.session!==aM&&Q.session.length>0){bT=bB.extend(bT,{SESSION:Q.session});}else{if(bB(bn+"Embedded.signup-collapsed").length){aR=true;
bT=bB.extend(bT,{LANGUAGE:"en",TIME:bB.now()});K(bT);}return;}if(bS!==aM&&aX.templates.length>0){var bV=bS.attr("class");if(bV!==aM){bZ=bV.split(" ")[1];
if(bZ===aM||bB.inArray(bZ,aX.templates)<0){bZ="";}}var bQ=bS.children("img."+bw+"Status").attr("src");bU=a5(bQ,"DEPARTMENT");}if(Y.template!==aM&&Y.template.length>0){bZ=Y.template;
}bT=bB.extend(bT,{LANGUAGE:aX.locale,TIME:bB.now()});if(bS!==aM&&bS.attr("class")!==aM&&bS.attr("class").indexOf("LiveHelpCallButton")!==-1){b0=true;}if(Y.embedded&&!b0){if(Y.department.length>0){bU=Y.department;
}if(bR==="Online"||Y.connected){var bX=bB(bn+"Embedded");if(bX.is(".closed")){bs(false,false);}}else{if(aX.offlineEmail===0){if(aX.offlineRedirect!==""){t.location=aX.offlineRedirect;
}}else{K(bT);}}return false;}if(bU!==aM&&bU!==""){if(bB.inArray(bU,aX.departments)===-1){bR="Offline";}bT=bB.extend(bT,{DEPARTMENT:bU});}if(bZ!==aM&&bZ!==""){bT=bB.extend(bT,{TEMPLATE:bZ});
}if(bY===aM||bY===""){bY=a2.home;}if(bR==="Online"){if(Y.name!==""){bT=bB.extend(bT,{NAME:Y.name});}if(Y.email!==""){bT=bB.extend(bT,{EMAIL:Y.email});}a9=bb.open(Y.server+ad+bY+"?"+bB.param(bT),bw,S);
if(a9){try{a9.opener=bb;}catch(bW){}}}else{if(aX.offlineEmail===0){if(aX.offlineRedirect!==""){t.location=aX.offlineRedirect;}}else{a9=bb.open(Y.server+ad+a2.offline+"?"+bB.param(bT),bw,S);
}return false;}}function al(){bB(bn+"SignInDetails, "+bn+"Login #Inputs").hide();var bS=bB(bn+"Connecting"),bQ=bS.find(".connecting-container"),bR=bB(bn+"Messages .message").length;
if(bQ.length>0){if(bQ.find("img").length===0){bQ.prepend('<img src="'+Y.server+w+'images/ProgressRing.gif" style="opacity: 0.5"/>');}}if(aX.loginDetails!==0&&!bR){bS.show();
}}function E(b0){var bS=bn+"LoginForm",bQ=bB(bn+"NameInput, "+bS+" :input[id=NAME]"),bW=bB(bn+"DepartmentInput, "+bS+" select[id=DEPARTMENT], "+bS+" input[id=DEPARTMENT]"),bZ=bB(bn+"EmailInput, "+bS+" :input[id=EMAIL]"),bT=bB(bn+"QuestionInput, "+bS+" textarea[id=QUESTION]"),bY=bB(bn+"OtherInput, "+bS+" :input[id=OTHER]"),bX=bB(bn+"Login #Inputs"),b1=bB(bn+"Connecting");
var bR=(b0!==aM&&b0===false)?true:false;al();if(Y.department.length>0){bW.val(Y.department);}if(bW.length>0&&bW.val()!==null){a7.department=bW.val();d();
}if(aX.requireGuestDetails&&!bR){var b2={name:true,email:true,department:true};b2.name=bI(bQ,bn+"NameError");if(aX.loginEmail){b2.email=ab(bZ,bn+"EmailError");
}if(aX.departments.length>0){var bU=bW.data("collapsed");b2.department=bI(bW,bn+"DepartmentError");if(!bU){bW.data("collapsed",true);bW.animate({width:bW.width()-35},250);
}}if(!b2.name||!b2.email||!b2.department){b1.hide();bX.show();return;}}if(bQ.val().length>0){aX.user=bQ.val();}bQ=(bQ.length>0)?bQ.val():"";bW=(bW.length>0&&bW.val()!==null)?bW.val():"";
bZ=(bZ.length>0)?bZ.val():"";bY=(bY.length>0)?bY.val():"";bT=(bT.length>0)?bT.val():"";var bV={NAME:bQ,EMAIL:bZ,DEPARTMENT:bW,QUESTION:bT,OTHER:bY,SERVER:t.location.host,JSON:""};
if(Q.session!==null){bV=bB.extend(bV,{SESSION:Q.session});}bB.ajax({url:Y.server+ad+a2.chat,data:bB.param(bV),success:function(b3){if(b3.error===aM){if(b3.session!==aM&&b3.session.length>0){bB(t).trigger(bw+".Connecting",b3);
if(aX.loginDetails!==0){bB(bn+"Messages .InitiateChat").hide();}bB(bn+"MessageTextarea").removeAttr("disabled");a7.chatEnded=false;d();aX.email=b3.email;
if(aX.user.length>0){aX.user=b3.user;}if(Q.session!==null){Q.session=b3.session;LiveHelpSettings.cookies.set(h.name,Q.session,{domain:Y.domain});}if(f.length>0&&aX.loginDetails===0){aW(f[0],function(){a6();
bf();});f=[];}else{a6();bf();}if(Y.popup){bB(bn+"Login").hide();bB(bn+"Chat").fadeIn(250);bA();}Y.connected=true;}if(b3.status!==aM&&b3.status==="Offline"){aL();
var b4=bB(bn+"Embedded");if(Y.hideOffline===true){b4.fadeOut(250).css("z-index","10000000");}else{b4.fadeIn(250).css("z-index","5000");b4.find("."+bw+"Icon").addClass("offline").fadeIn();
C("Offline",b4);}b4.find(".CloseButton").fadeOut(250);}O();}else{Y.connected=false;}},dataType:"jsonp",cache:false,xhrFields:{withCredentials:true}});}function A(){var bQ="jsonp";
Y.connected=false;a7.chatEnded=true;a7.department="";a7.lastMessage=0;d();m=0;bB(t).trigger(bw+".DisconnectChat");aL(function(){be();if(Y.chatBubbles){bB("."+bw+"Operator .OperatorImage").hide();
C(aX.status,embed);bB("."+bw+"Icon").fadeIn();}bB(bn+"Messages").html("");bB(bn+"SignedIn, "+bn+"Toolbar, "+bn+"CollapseButton").hide();bB(bn+"Body, "+bn+"Background").css("background-color","#f9f6f6");
bB(bn+"Input").animate({bottom:-100},500);bB(bn+"SignIn, "+bn+"Waiting").show();bB(bn+"Login #Inputs").show();bB(bn+"Connecting").hide();});if(Y.popup){bQ="json";
}bB.ajax({url:Y.server+ad+a2.signout,data:{SESSION:encodeURIComponent(Q.session)},dataType:bQ,cache:false,xhrFields:{withCredentials:true},success:function(bR){if(Y.popup){bb.close();
}},error:function(bR,bT,bS){console.log(bT);}});bB.fancybox.close();}function ap(bQ){if(bQ===true){bQ=1;}else{bQ=0;}if(bQ!==j){j=bQ;bB(t).trigger(bw+".UpdateTyping",{typing:j});
}}function bJ(bR){var bQ={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#039;"};return bR.replace(/[&<>"']/g,function(bS){return bQ[bS];});}function bt(bQ){bQ=bJ(bQ);
bQ=bQ.replace(/\r\n|\r|\n/g,"<br />");return bQ;}var af=function(bQ,bR){return function(bW,bS,bZ){if(bW!==null&&bW!==""){if(bW.id!==aM&&bB(".message[data-id="+bW.id+"]").length===0){var bY="message",bT=15,bU="#666";
if(Y.messageBubbles){bY+=" bubble right";bT=0;bU="#000";}if(!bW.datetime){bW.datetime=(Date.now()/1000|0);}var bX='<div class="'+bY+'" data-id="'+bW.id+'" data-datetime="'+bW.datetime+'" align="left" style="color:#666">',bV=(aX.user.length>0)?aX.user:"Guest";
if(!Y.messageBubbles){bX+=bt(bV)+" "+aX.language.says+":<br/>";}var b0=bt(bQ);b0=b0.replace(/([a-z0-9][a-z0-9_\.\-]{0,}[a-z0-9]@[a-z0-9][a-z0-9_\.\-]{0,}[a-z0-9][\.][a-z0-9]{2,4})/g,'<a href="mailto:$1" class="message-email">$1</a>');
b0=b0.replace(/((?:(?:http(?:s?))|(?:ftp)):\/\/[^\s|<|>|'|\"]*)/g,'<a href="$1" target="_blank" class="message-link">$1</a>');if(aX.smilies){b0=aU(b0);
}bX+='<div style="margin: 0 0 0 '+bT+"px; color: "+bU+'">'+b0+"</div></div>";bB(bn+"Messages").append(bX);aT();ac();if(bR){bR();}}}};};function aW(bR,bV){var bS={MESSAGE:bR},bQ=Y.server+ad+a2.send,bU="MessageTextarea",bT=bB(bn+bU);
if(Q.session!==aM&&Q.session.length>0){bS=bB.extend(bS,{SESSION:Q.session});if(bR===0){bB.ajax({url:bQ,data:bB.param(bS),dataType:"jsonp",cache:false,xhrFields:{withCredentials:true}});
}else{bS.JSON="";bB.ajax({url:bQ,data:bB.param(bS),success:af(bR,bV),dataType:"jsonp",cache:false,xhrFields:{withCredentials:true}});ap(false);}bT.val("");
bB.jStorage.set(bw+".MessageTextarea","");}}var f=[];function bM(){var bS="MessageTextarea",bR=bB(bn+bS),bQ=bR.val();if(!Y.connected){E(false);if(f.length===0&&bQ!==""){f.push(bQ);
bR.val("");bB.jStorage.set(bw+".MessageTextarea","");}return;}if(bQ!==""){aW(bQ);}return false;}function D(){var bQ=bB(bn+"Embedded");if(bQ.length>0){bB(bn+"Tab, "+bn+"StatusText, ."+bw+"Icon, .OperatorImage, ."+bw+"Operator, ."+bw+"MobileButton").click(function(){Y.embedded=true;
if(aX.status==="Online"||Y.connected){if(bQ.is(".closed")){if(!a7.notificationEnabled){a7.notificationEnabled=true;}bs(false,false);}else{aL();}d();}else{z();
}});bB(bn+"StatusText, ."+bw+"StatusIndicator, ."+bw+"Operator, .OperatorImage, ."+bw+"CloseButton").hover(function(){bB(this).parent().find(bn+"Tab").addClass("hover");
bB("."+bw+"StatusIndicator").addClass("hover");},function(){bB(this).parent().find(bn+"Tab").removeClass("hover");bB("."+bw+"StatusIndicator").removeClass("hover");
});bB(bn+"CloseButton").click(function(){if(aX.status==="Online"){if(bB(this).is(".expand")){bs(false,false);}else{aL();}}else{z();}});bB(bn+"CloseBlockedButton").click(function(){aL();
});bB(bn+"CollapseButton").click(function(){var bR=parseInt(bB(bn+"Body").css("top"),10);if(bR===86){a7.operatorDetailsOpen=false;be();}else{a7.operatorDetailsOpen=true;
bv();}d();});bB(bn+"ContinueEmailInput").on({keypress:function(bU){var bR,bS=bB(this).val();if(bU.keyCode===13||bU.charCode===13){var bT=ab(this,bn+"ContinueEmailError");
if(bS.length>0&&bT){var bV={SESSION:Q.session,EMAIL:bS};aX.email=bV.email;bB.ajax({url:Y.server+ad+a2.email,data:bB.param(bV),success:function(bX,bY,bW){bB(bn+"Continue ."+bw+"Input, ."+bw.toLowerCase()+"-continue-text").hide();
bB(bn+"Continue .status").text("Thanks!  We will contact you at "+bX.email).show();ac();bB(t).trigger("LiveHelp.EmailComplete");},dataType:"jsonp",cache:false,xhrFields:{withCredentials:true}});
}return false;}else{return true;}}});}}function a4(){Y.connected=false;a7.chatEnded=true;a7.department="";a7.lastMessage=0;d();m=0;bB(bn+"SignedIn, "+bn+"Login #Inputs, "+bn+"CollapseButton, "+bn+"Toolbar, "+bn+"SignInDetails, "+bn+"Connecting").fadeOut();
bB(bn+"SignIn, "+bn+"BlockedChatDetails").fadeIn();bB(bn+"MessageTextarea").attr("disabled","disabled");bB(bn+"ClosedChatMessage").show();var bQ=bB(bn+"Login #BlockedChat");
bQ.fadeIn();if(bQ.find("img").length===0){bQ.prepend('<img src="'+Y.server+w+'images/Block.png"/>');}}function r(){var bS=800;bB(t).bind(bw+".Connected",function(bX,bY,bW,bV,bU){bv(bY,bW,bV,bU);
Y.accepted=true;}).bind(bw+".Disconnect",function(){Y.connected=false;a7.chatEnded=true;a7.department="";a7.lastMessage=0;d();bB(bn+"Input").find("textarea, "+bn+"SmiliesButton, "+bn+"Typing").hide();
bB(bn+"Input *").filter(":not("+bn+"PoweredByParent, "+bn+"PoweredByParent a, "+bn+"PoweredBy)").hide();bB(bn+"Input").height("35px");bB(bn+"Embedded "+bn+"Scroll").height("370px");
bB(bn+"ClosedChatMessage").show();bB(bn+"MessageTextarea").attr("disabled","disabled");if(bB(bn+"SignedIn").is(":visible")||Y.popup){M();}bB.ajax({url:Y.server+ad+a2.signout,data:{SESSION:encodeURIComponent(Q.session)},dataType:"jsonp",cache:false,xhrFields:{withCredentials:true}});
}).bind(bw+".BlockChat",function(){a4();});bB(t).on("click",bn+"ClosedChatMessage a",function(){var bU=bB(bn+"Input");if(aX.loginDetails===0){bB(bn+"Body, "+bn+"Background").css("background-color","#fff");
bB(bn+"Scroll").height("330px");bU.find("textarea").removeAttr("disabled").show();bU.animate({bottom:0,height:"100px"},500);}else{bB(bn+"Connecting").hide();
bB(bn+"Body, "+bn+"Background").css("background-color","#f9f6f6");bB(bn+"SignIn, "+bn+"Login #Inputs").show();bB(bn+"Scroll").height("310px");bB(bn+"SignedIn").hide();
bU.find("textarea, "+bn+"SmiliesButton, "+bn+"Typing").show();bU.css({bottom:"-100px",height:"100px"});}bB(bn+"FeedbackRating, "+bn+"ClosedChatMessage").hide();
});bB(bn+"Toolbar div").hover(function(){bB(this).fadeTo(200,1);},function(){bB(this).fadeTo(200,0.5);});bB(bn+"SoundToolbarButton").click(function(){if(a7.soundEnabled){a7.soundEnabled=false;
}else{a7.soundEnabled=true;}d();l();});if(Y.popup){bS=675;}bB(bn+"DisconnectToolbarButton").fancybox({href:bn+"Disconnect",maxWidth:bS,helpers:{overlay:{css:{cursor:"auto"}},title:null},openEffect:"elastic",openEasing:"swing",closeEffect:"elastic",closeEasing:"swing",beforeShow:function(){bB(bn+"Embedded").css("z-index",900);
bB(".bubbletip").css("z-index",950);},afterClose:function(){bB(bn+"Embedded").css("z-index",10000000);bB(".bubbletip").css("z-index",90000000);}});bB(bn+"FeedbackToolbarButton").click(function(){M();
});bB(bn+"ConnectButton").click(function(){E();});bB(bn+"DisconnectButton, "+bn+"CancelButton, "+bn+"ConnectButton").hover(function(){var bU=bB(this).attr("id").replace(bw,"");
bB(this).toggleClass(bU+" "+bU+"Hover");},function(){var bU=bB(this).attr("id").replace(bw,"");bB(this).toggleClass(bU+" "+bU+"Hover");});bB(bn+"CancelButton").click(function(){bB.fancybox.close();
});bB(bn+"DisconnectButton").click(function(){A();});bB(bn+"SmiliesButton").click(function(bU){bB(this).bubbletip(bB("#SmiliesTooltip"),{calculateOnShow:true}).open();
if(bU.stopPropagation){bU.stopPropagation();}});var bR=bn+"MessageTextarea";bB(bR).keypress(function(bV){var bU;if(bB(bR).val()===""){ap(false);}else{ap(true);
}if(bV.keyCode===13||bV.charCode===13){bM();return false;}else{return true;}}).blur(function(){ap(false);}).focus(function(){bB(bn+"SmiliesButton").close();
bg();bG();});bB(bn+"Embedded").click(function(){bB(bn+"SmiliesButton").close();});bB(bR).keyup(function(bU){var bV=bB(bR).val();bB.jStorage.set(bw+".MessageTextarea",bV);
});bB(bR).val(bB.jStorage.get(bw+".MessageTextarea",""));bB("#SmiliesTooltip span").click(function(){var bU=bB(this).attr("class").replace("sprite ",""),bW=bB(bR).val(),bV="";
switch(bU){case"Laugh":bV=":D";break;case"Smile":bV=":)";break;case"Sad":bV=":(";break;case"Money":bV="$)";break;case"Impish":bV=":P";break;case"Sweat":bV=":\\";
break;case"Cool":bV="8)";break;case"Frown":bV=">:L";break;case"Wink":bV=";)";break;case"Surprise":bV=":O";break;case"Woo":bV="8-)";break;case"Tired":bV="X-(";
break;case"Shock":bV="8-O";break;case"Hysterical":bV="xD";break;case"Kissed":bV=":-*";break;case"Dizzy":bV=":S";break;case"Celebrate":bV="+O)";break;case"Angry":bV=">:O";
break;case"Adore":bV="<3";break;case"Sleep":bV="zzZ";break;case"Stop":bV=":X";break;}bB(bn+"MessageTextarea").val(bW+bV);});var bQ=bB(bn+"MessageSpeech"),bT=bQ[0];
if(bT!==aM){bT.onfocus=bT.blur;bT.onwebkitspeechchange=function(bU){bB(bn+"MessageTextarea").val(bQ.val());bQ.val("");};}}function aa(){bB(bn+"DepartmentInput, "+bn+"LoginForm select[id=DEPARTMENT]").each(function(){var bQ="collapsed";
if(bB(this).data(bQ)===aM){bB(this).data(bQ,false);}});}function ba(){var bQ=bn+"LoginForm";if(aX.requireGuestDetails){bB(bn+"NameInput, "+bQ+" input[id=NAME]").bind("keydown blur",function(){bI(this,bn+"NameError");
});if(aX.loginEmail){bB(bn+"EmailInput, "+bQ+" input[id=EMAIL]").bind("keydown blur",function(){ab(this,bn+"EmailError");});}if(aX.departments.length>0){bB(bn+"DepartmentInput, "+bQ+" select[id=DEPARTMENT]").bind("keydown keyup blur change",function(){var bR=bB(this),bS=bR.data("collapsed");
bI(bR,bn+"DepartmentError");if(!bS){bR.animate({width:bR.width()-35},250);bR.data("collapsed",true);}});}}if(!aX.loginEmail){bB(bn+"EmailInput, "+bQ+" input[id=EMAIL]").hide();
bB("."+bw+"Login .EmailLabel").hide();}if(!aX.loginQuestion){bB(bn+"QuestionInput, "+bQ+" input[id=QUESTION]").hide();bB("."+bw+"Login .QuestionLabel").hide();
}}function bA(){var bX=bB(bb).height(),bQ=bB(bb).width(),bR=(bB(bn+"Campaign").length>0&&!bB(bn+"Campaign").is(":hidden"))?bB(bn+"Campaign").width():0,bT=bB(bn+"ScrollBorder"),bV=bB(bn+"ScrollBorder"),bS=bB(bn+"Messages"),bW=bB(bn+"MessageTextarea");
if(bT.length>0&&bV.length>0){if(bT.css("width").indexOf("%")===-1){bB(bn+"Scroll, "+bn+"ScrollBorder").css("width","auto");bV.css("width",bQ-bR-40+"px");
bS.css("width",bQ-bR-48+"px");bT.css("width",bQ-bR-20+"px");}bB(bn+"Scroll, "+bn+"ScrollBorder").css("height","auto").css("height",bX-175-10+"px");bB(".body").css({width:bQ+"px","min-width":"625px"});
if(bW.css("width").indexOf("%")===-1){bW.css("width",bQ-165+"px");}bQ=bT.css("width");var bY=parseInt(bQ,10);var bU=bQ.slice(-2);bB(bn+"Messages img, ."+bw+"Image, ."+bw+"VideoZoom, ."+bw+"VideoHover, ."+bw+"ImageZoom, ."+bw+"ImageHover").not(".noresize").each(function(){var b3=parseInt(bB(this).css("max-width"),10),b2=parseInt(bB(this).css("max-height"),10),b1=bY-50,b0=b2/b3,bZ=b1*b0;
if(b1<=b3){bB(this).css("width",b1+bU);}if(bZ<=b2||bB(this).is("."+bw+"Image")){bB(this).css("height",bZ+bU);}});ac();}}function a8(){bB(bb).resize(function(){bA();
});bB(t).ready(function(){aa();if(Y.connected){bB(bQ+"Login").hide();bB(bQ+"Chat").fadeIn(250);bA();E();}});ba();aQ();if(W){W();}if(bh===aM){bh=new buzz.sound(Y.server+w+"sounds/Pending Chat",{formats:["ogg","mp3","wav"],volume:100});
}var bS=(t.location.pathname.indexOf(w+a2.call)>-1)?"Call":"Offline",bQ="#"+bw+bS,bR=bB("#"+bS+"MessageForm");aB(bQ,bR);}bb.isActive=true;bB(bb).focus(function(){this.isActive=true;
bG();});bB(bb).blur(function(){this.isActive=false;});bN();function G(b2){b2=typeof b2!=="undefined"?b2:false;bl();if(Y.popup){r();a8();}bB(t).trigger(bw+".StatusModeChanged",aX.status);
if(bB(bn+"Embedded").length===0&&Y.embedded===true){var bR=(aX.language.copyright.length>0)?"block":"none",bU=(aX.rtl===true)?'dir="rtl"':"",b0=(aX.rtl===true)?'style="text-align:right"':"";
var b3="";if(b3.length>0){var b4='<style type="text/css">'+b3+"</style>";bB(b4).appendTo(t.head);}if(aX.embedded.length>0){bB(aX.embedded).appendTo(t.body);
}bB(bn+"Embedded input, "+bn+"Embedded textarea").placeholder();var b1={"default":{tab:"#dddedf",theme:"dark"},green:{tab:"#26c281",theme:"light"},turquoise:{tab:"#31cbbb",theme:"light"},blue:{tab:"#3498db",theme:"light"},purple:{tab:"#8e44ad",theme:"light"},pink:{tab:"#db0a5b",theme:"light"},orange:{tab:"#f5ab35",theme:"light"}};
if(Y.theme!=="light"&&Y.theme!=="dark"&&b1[Y.theme]!==aM){var b6=b1[Y.theme];bB(bn+"Tab").css("background-color",b6.tab);Y.theme=b6.theme;}if(Y.theme!==aM&&Y.theme==="light"){bB(bn+"CloseButton, "+bn+"StatusText").addClass("light");
}if(Y.colors!==aM){if(Y.colors.tab!==aM&&Y.colors.tab.normal!==aM){bB(bn+"Tab").css("background-color",Y.colors.tab.normal);if(Y.colors.tab.hover!==aM){bB(bn+"Tab").hover(function(){bB(this).css("background-color",Y.colors.tab.hover);
},function(){bB(this).css("background-color",Y.colors.tab.normal);});}}}bB.each(aX.language,function(b8,b9){var b7=bB(bn+'Embedded [data-lang-key="'+b8+'"]');
if(b7.length>0){b7.text(b9);}});D();ba();r();var bV=Y.server+ad+a2.image+"?override=true&size=50&round=true";if(Y.account!==aM){bV=Y.server+ad+a2.image+"/round/default/50px/";
}var bX=aX.embeddedinitiate;if(bX!==aM&&bX.id>0&&bX.photo){Y.chatBubbles=true;}if(Y.chatBubbles){if(bX.id>0){bv(bX.id,bX.name,bX.department,bX.avatar);
}var bT=bB(bn+"Embedded ."+bw+"Operator");bB(bn+"StatusText").css("left","70px");bT.find(".OperatorImage").show();bT.show();}bB(bn+"SwitchPopupToolbarButton").click(function(){Y.embedded=false;
aL(function(){a7.notificationEnabled=false;d();});z(bB(this));});aI();g(aX.departments);if(Q.session!==aM&&Q.session.length>0){if(aX.status==="Online"){if(aX.autoload!==0){if(a7.openTab){bs(false,false);
}}else{var bY=bB(bn+"Embedded"),b5=bB(bn+"InitiateChatBubble").is(":visible");if(bY.is(":hidden")){bB(bn+"Waiting").hide();if(!b5){bY.fadeIn(50,function(){if(!Y.connected&&!aX.initiate){bB("."+bw+"Icon").fadeIn();
}});bB("."+bw+"MobileButton").addClass("show");}aI();}}}else{if(aX.autoload!==0){bs(false,false);}}}var bS=bn+"LoginForm",bQ=bB(bn+"NameInput, "+bS+" :input[id=NAME]"),bZ=bB(bn+"EmailInput, "+bS+" :input[id=EMAIL]"),bW=bB(bn+"SignIn").find("input, textarea");
if(Y.name!==aM&&Y.name.length>0){bQ.val(Y.name);if(aX.requireGuestDetails){bI(bQ,bn+"NameError");}}if(Y.email!==aM&&Y.email.length>0){bZ.val(Y.email);if(aX.requireGuestDetails){ab(bZ,bn+"EmailError");
}}if(!aX.requireGuestDetails){bW.css("width","100%");}if(aX.autoload!==0){bf();if(!b2){Y.connected=true;}}if(aX.status!==aM&&aX.status.length>0){aq(aX.status,aX.departments);
}if(!Y.connected&&!aX.initiate){bB("."+bw+"Icon").fadeIn();}aD();}}bB(t).bind(bw+".SettingsUpdated",function(){G();});bB(t).bind(bw+".StatusModeUpdated",function(bR,bS){var bQ=bS.data;
aX.departments=bQ.departments;aq(bQ.status,aX.departments);});bB(t).bind(bw+".WebSocketStateChanged",function(bQ,bR){ah=bR.connected;if(bP.websockets!==aM&&bP.websockets.enabled===true){if((bP.websockets.state!=="established"&&bR.state==="established")||(bP.websockets.state!=="error"&&bR.state==="error")){bP.websockets.state=bR.state;
X();}}else{bH();}});bB(t).bind(bw+".UpdateMessages",function(bQ,bR){if(bR!==aM){if(bR.status===aM){bR.status=0;}else{if(bR.status>0){O();}}}Y.accepted=true;
B();});function i(bS){var bR=bB(bn+"Continue"),bQ=bB(bn+"Messages");if(aX.email===false){if(bS!==false){bR.find("."+bw.toLowerCase()+"-continue-text").text(bS);
}}else{bR.find("."+bw.toLowerCase()+"-continue-text").text("Hmm looks like there was no response.  We will reply via email shortly.");bR.find("."+bw+"Input").hide();
if(aX.email!==aM){bR.find(".status").text("We will contact you at "+aX.email).show();}}if(!bQ.find(bn+"Continue").length){bB(bR).appendTo(bQ).show().attr("data-datetime",(Date.now()/1000|0));
ac();}}var O=bi.debounce(function(){i(false);},90000);var a6=bi.debounce(function(){if(!Y.accepted){i(false);}},Y.promptPrechatDelay);bB(t).bind(bw+".MessageReceived",function(bQ,bR){if(bR.align===aM){bR.align=1;
}if(bR.status===aM){bR.status=0;}if(bR.status>0){O();}a3([bR]);});bB(t).ready(function(){bO=bB(t).attr("title");var bQ="";if(Y.fonts===true){bQ='<link href="'+Y.protocol+'fonts.googleapis.com/css?family=Open+Sans:300,400,700" rel="stylesheet" type="text/css"/>';
}if(Y.css===true){bQ+='<link href="'+Y.server+w+"templates/"+Y.template+'/styles/styles.css" rel="stylesheet" type="text/css"/>';}if(bQ.length>0){bB(bQ).appendTo("head");
}bB(this).click(function(){bG();});if(aX!==aM&&aX.status!==aM){G();}aD();if(Y.popup){bA();}if(typeof resetPosition!=="undefined"){bB(bb).bind("resize",resetPosition);
}bB(bb).bind("storage",function(bR){aI();});});})(this,document,"LiveHelp",LiveHelpSettings,LiveHelpSettings._,jQuery);